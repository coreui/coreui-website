import{a as Ve}from"./chunk-UBKFDT4A.js";import{$ as u,Ba as Ce,C as w,Ca as ke,D as ye,Da as P,Ea as U,F as W,Fa as Q,G as c,Ga as Le,I as C,Ia as De,J as fe,Ja as Oe,K as G,Ka as F,L as x,La as R,M as Me,Ma as Ee,N as ze,Na as K,Oa as xe,Pc as Ge,Q as ve,Qc as Ne,R as be,Sa as Se,Ta as k,Tc as He,V as Ie,Wa as Pe,X as N,Xa as Fe,Y as we,_ as H,aa as h,ab as Z,b as ce,c as B,cb as Re,d as O,da as m,db as Ze,ea as g,g as de,h as E,i as pe,ja as V,jb as Ae,la as _,o as ue,ob as Te,pb as je,q as b,qb as Be,rb as We,va as y,w as me,wa as f,x as I,xa as S,z as _e}from"./chunk-BOJJVPWL.js";import{a as p,b as v,e as j,f as he,g as ge}from"./chunk-RLASGPT3.js";var $e=["*"],M=class{_clearListeners(){for(let i of this._listeners)i.remove();this._listeners=[]}constructor(i){this._ngZone=i,this._pending=[],this._listeners=[],this._targetStream=new O(void 0)}getLazyEmitter(i){return this._targetStream.pipe(me(a=>{let e=new ce(t=>{if(!a){this._pending.push({observable:e,observer:t});return}let n=a.addListener(i,r=>{this._ngZone.run(()=>t.next(r))});if(!n){t.complete();return}return this._listeners.push(n),()=>n.remove()});return e}))}setTarget(i){let a=this._targetStream.value;i!==a&&(a&&(this._clearListeners(),this._pending=[]),this._targetStream.next(i),this._pending.forEach(e=>e.observable.subscribe(e.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}};function q(s,i){return window.google.maps.importLibrary(s).then(a=>a[i])}var L={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},Ue="500px",Qe="500px",D=(()=>{let i=class i{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||L}constructor(e,t,n){if(this._elementRef=e,this._ngZone=t,this._eventManager=new M(c(g)),this.height=Ue,this.width=Qe,this._options=L,this.mapInitialized=new m,this.authFailure=new m,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=Te(n),this._isBrowser){let r=window;r.google,this._existingAuthFailureCallback=r.gm_authFailure,r.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let t=this.googleMap;t&&(e.options&&t.setOptions(this._combineOptions()),e.center&&this._center&&t.setCenter(this._center),e.zoom&&this._zoom!=null&&t.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&t.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{q("maps","Map").then(e=>this._initialize(e))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,t){this._assertInitialized(),this.googleMap.fitBounds(e,t)}panBy(e,t){this._assertInitialized(),this.googleMap.panBy(e,t)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,t){this._assertInitialized(),this.googleMap.panToBounds(e,t)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(b(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":Ke(this.height)||Ue,e.width=this.width===null?"":Ke(this.width)||Qe}}_combineOptions(){let e=this._options||{};return v(p({},e),{center:this._center||e.center||L.center,zoom:this._zoom??e.zoom??L.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||L.mapTypeId})}_assertInitialized(){this.googleMap}};i.\u0275fac=function(t){return new(t||i)(h(N),h(g),h(be))},i.\u0275cmp=C({type:i,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[x,k],ngContentSelectors:$e,decls:2,vars:0,consts:[[1,"map-container"]],template:function(t,n){t&1&&(U(),S(0,"div",0),Q(1))},encapsulation:2,changeDetection:0});let s=i;return s})(),et=/([A-Za-z%]+)$/;function Ke(s){return s==null?"":et.test(s)?s:`${s}px`}var A=(()=>{let i=class i{set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}constructor(e,t,n){this._googleMap=e,this._elementRef=t,this._ngZone=n,this._eventManager=new M(c(g)),this._options=new O({}),this._position=new O(void 0),this._destroy=new B,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.infoWindowInitialized=new m}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(b(1)).subscribe(e=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,e):this._ngZone.runOutsideAngular(()=>{q("maps","InfoWindow").then(t=>this._initialize(t,e))})})}_initialize(e,t){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new e(t),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(e,t){this._assertInitialized();let n=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==n||!n)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open({map:this._googleMap.googleMap,anchor:n,shouldFocus:t}))}_combineOptions(){return pe([this._options,this._position]).pipe(E(([e,t])=>v(p({},e),{position:t||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(I(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(I(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}};i.\u0275fac=function(t){return new(t||i)(h(D),h(N),h(g))},i.\u0275dir=G({type:i,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"],standalone:!0});let s=i;return s})();var tt={position:{lat:37.421995,lng:-122.084092}},J=(()=>{let i=class i{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,t){this._googleMap=e,this._ngZone=t,this._eventManager=new M(c(g)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.markerInitialized=new m}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),q("marker","Marker")]).then(([e,t])=>{this._initialize(e,t)})}))}_initialize(e,t){this._ngZone.runOutsideAngular(()=>{this.marker=new t(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){let{marker:t,_title:n,_position:r,_label:o,_clickable:l,_icon:d,_visible:z}=this;t&&(e.options&&t.setOptions(this._combineOptions()),e.title&&n!==void 0&&t.setTitle(n),e.position&&r&&t.setPosition(r),e.label&&o!==void 0&&t.setLabel(o),e.clickable&&l!==void 0&&t.setClickable(l),e.icon&&d&&t.setIcon(d),e.visible&&z!==void 0&&t.setVisible(z))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(b(1)).toPromise()}_combineOptions(){let e=this._options||tt;return v(p({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible})}_assertInitialized(){}};i.\u0275fac=function(t){return new(t||i)(h(D),h(g))},i.\u0275dir=G({type:i,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],standalone:!0,features:[x]});let s=i;return s})(),it={},qe=(()=>{let i=class i{set averageCenter(e){this._averageCenter=e}set batchSizeIE(e){this._batchSizeIE=e}set calculator(e){this._calculator=e}set clusterClass(e){this._clusterClass=e}set enableRetinaIcons(e){this._enableRetinaIcons=e}set gridSize(e){this._gridSize=e}set ignoreHidden(e){this._ignoreHidden=e}set imageExtension(e){this._imageExtension=e}set imagePath(e){this._imagePath=e}set imageSizes(e){this._imageSizes=e}set maxZoom(e){this._maxZoom=e}set minimumClusterSize(e){this._minimumClusterSize=e}set styles(e){this._styles=e}set title(e){this._title=e}set zIndex(e){this._zIndex=e}set zoomOnClick(e){this._zoomOnClick=e}set options(e){this._options=e}constructor(e,t){this._googleMap=e,this._ngZone=t,this._currentMarkers=new Set,this._eventManager=new M(c(g)),this._destroy=new B,this.ariaLabelFn=()=>"",this.clusteringbegin=this._eventManager.getLazyEmitter("clusteringbegin"),this.clusteringend=this._eventManager.getLazyEmitter("clusteringend"),this.clusterClick=this._eventManager.getLazyEmitter("click"),this.markerClustererInitialized=new m,this._canInitialize=e._isBrowser}ngOnInit(){this._canInitialize&&this._ngZone.runOutsideAngular(()=>{this._googleMap._resolveMap().then(e=>{this.markerClusterer=this._ngZone.runOutsideAngular(()=>new MarkerClusterer(e,[],this._combineOptions())),this._assertInitialized(),this._eventManager.setTarget(this.markerClusterer),this.markerClustererInitialized.emit(this.markerClusterer)})})}ngAfterContentInit(){this._canInitialize&&(this.markerClusterer?this._watchForMarkerChanges():this.markerClustererInitialized.pipe(b(1),I(this._destroy)).subscribe(()=>this._watchForMarkerChanges()))}ngOnChanges(e){let{markerClusterer:t,ariaLabelFn:n,_averageCenter:r,_batchSizeIE:o,_calculator:l,_styles:d,_clusterClass:z,_enableRetinaIcons:Y,_gridSize:X,_ignoreHidden:ee,_imageExtension:te,_imagePath:ie,_imageSizes:ne,_maxZoom:se,_minimumClusterSize:re,_title:ae,_zIndex:oe,_zoomOnClick:le}=this;t&&(e.options&&t.setOptions(this._combineOptions()),e.ariaLabelFn&&(t.ariaLabelFn=n),e.averageCenter&&r!==void 0&&t.setAverageCenter(r),e.batchSizeIE&&o!==void 0&&t.setBatchSizeIE(o),e.calculator&&l&&t.setCalculator(l),e.clusterClass&&z!==void 0&&t.setClusterClass(z),e.enableRetinaIcons&&Y!==void 0&&t.setEnableRetinaIcons(Y),e.gridSize&&X!==void 0&&t.setGridSize(X),e.ignoreHidden&&ee!==void 0&&t.setIgnoreHidden(ee),e.imageExtension&&te!==void 0&&t.setImageExtension(te),e.imagePath&&ie!==void 0&&t.setImagePath(ie),e.imageSizes&&ne&&t.setImageSizes(ne),e.maxZoom&&se!==void 0&&t.setMaxZoom(se),e.minimumClusterSize&&re!==void 0&&t.setMinimumClusterSize(re),e.styles&&d&&t.setStyles(d),e.title&&ae!==void 0&&t.setTitle(ae),e.zIndex&&oe!==void 0&&t.setZIndex(oe),e.zoomOnClick&&le!==void 0&&t.setZoomOnClick(le))}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this._eventManager.destroy(),this.markerClusterer?.setMap(null)}fitMapToMarkers(e){this._assertInitialized(),this.markerClusterer.fitMapToMarkers(e)}getAverageCenter(){return this._assertInitialized(),this.markerClusterer.getAverageCenter()}getBatchSizeIE(){return this._assertInitialized(),this.markerClusterer.getBatchSizeIE()}getCalculator(){return this._assertInitialized(),this.markerClusterer.getCalculator()}getClusterClass(){return this._assertInitialized(),this.markerClusterer.getClusterClass()}getClusters(){return this._assertInitialized(),this.markerClusterer.getClusters()}getEnableRetinaIcons(){return this._assertInitialized(),this.markerClusterer.getEnableRetinaIcons()}getGridSize(){return this._assertInitialized(),this.markerClusterer.getGridSize()}getIgnoreHidden(){return this._assertInitialized(),this.markerClusterer.getIgnoreHidden()}getImageExtension(){return this._assertInitialized(),this.markerClusterer.getImageExtension()}getImagePath(){return this._assertInitialized(),this.markerClusterer.getImagePath()}getImageSizes(){return this._assertInitialized(),this.markerClusterer.getImageSizes()}getMaxZoom(){return this._assertInitialized(),this.markerClusterer.getMaxZoom()}getMinimumClusterSize(){return this._assertInitialized(),this.markerClusterer.getMinimumClusterSize()}getStyles(){return this._assertInitialized(),this.markerClusterer.getStyles()}getTitle(){return this._assertInitialized(),this.markerClusterer.getTitle()}getTotalClusters(){return this._assertInitialized(),this.markerClusterer.getTotalClusters()}getTotalMarkers(){return this._assertInitialized(),this.markerClusterer.getTotalMarkers()}getZIndex(){return this._assertInitialized(),this.markerClusterer.getZIndex()}getZoomOnClick(){return this._assertInitialized(),this.markerClusterer.getZoomOnClick()}_combineOptions(){let e=this._options||it;return v(p({},e),{ariaLabelFn:this.ariaLabelFn??e.ariaLabelFn,averageCenter:this._averageCenter??e.averageCenter,batchSize:this.batchSize??e.batchSize,batchSizeIE:this._batchSizeIE??e.batchSizeIE,calculator:this._calculator??e.calculator,clusterClass:this._clusterClass??e.clusterClass,enableRetinaIcons:this._enableRetinaIcons??e.enableRetinaIcons,gridSize:this._gridSize??e.gridSize,ignoreHidden:this._ignoreHidden??e.ignoreHidden,imageExtension:this._imageExtension??e.imageExtension,imagePath:this._imagePath??e.imagePath,imageSizes:this._imageSizes??e.imageSizes,maxZoom:this._maxZoom??e.maxZoom,minimumClusterSize:this._minimumClusterSize??e.minimumClusterSize,styles:this._styles??e.styles,title:this._title??e.title,zIndex:this._zIndex??e.zIndex,zoomOnClick:this._zoomOnClick??e.zoomOnClick})}_watchForMarkerChanges(){this._assertInitialized(),this._ngZone.runOutsideAngular(()=>{this._getInternalMarkers(this._markers).then(e=>{let t=[];for(let n of e)this._currentMarkers.add(n),t.push(n);this.markerClusterer.addMarkers(t)})}),this._markers.changes.pipe(I(this._destroy)).subscribe(e=>{this._assertInitialized(),this._ngZone.runOutsideAngular(()=>{this._getInternalMarkers(e).then(t=>{let n=new Set(t),r=[],o=[];for(let l of Array.from(n))this._currentMarkers.has(l)||(this._currentMarkers.add(l),r.push(l));for(let l of Array.from(this._currentMarkers))n.has(l)||o.push(l);this.markerClusterer.addMarkers(r,!0),this.markerClusterer.removeMarkers(o,!0),this.markerClusterer.repaint();for(let l of o)this._currentMarkers.delete(l)})})})}_getInternalMarkers(e){return Promise.all(e.map(t=>t._resolveMarker()))}_assertInitialized(){}};i.\u0275fac=function(t){return new(t||i)(h(D),h(g))},i.\u0275cmp=C({type:i,selectors:[["map-marker-clusterer"]],contentQueries:function(t,n,r){if(t&1&&De(r,J,5),t&2){let o;F(o=R())&&(n._markers=o)}},inputs:{ariaLabelFn:"ariaLabelFn",averageCenter:"averageCenter",batchSize:"batchSize",batchSizeIE:"batchSizeIE",calculator:"calculator",clusterClass:"clusterClass",enableRetinaIcons:"enableRetinaIcons",gridSize:"gridSize",ignoreHidden:"ignoreHidden",imageExtension:"imageExtension",imagePath:"imagePath",imageSizes:"imageSizes",maxZoom:"maxZoom",minimumClusterSize:"minimumClusterSize",styles:"styles",title:"title",zIndex:"zIndex",zoomOnClick:"zoomOnClick",options:"options"},outputs:{clusteringbegin:"clusteringbegin",clusteringend:"clusteringend",clusterClick:"clusterClick",markerClustererInitialized:"markerClustererInitialized"},exportAs:["mapMarkerClusterer"],standalone:!0,features:[x,k],ngContentSelectors:$e,decls:1,vars:0,template:function(t,n){t&1&&(U(),Q(0))},encapsulation:2,changeDetection:0});let s=i;return s})();var Je=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=fe({type:i}),i.\u0275inj=ye({});let s=i;return s})();var T=(()=>{let i=class i{constructor(e){let t="AIzaSyASyYRBZmULmrmw_P9kgr7_266OhFNinPA";this.apiLoaded=e.jsonp(`https://maps.googleapis.com/maps/api/js?key=${t}`,"callback").pipe(_e(n=>{console.log("GoogleMapsLoaderService",n)}),E(()=>!0),ue(()=>de(!1)))}};i.\u0275fac=function(t){return new(t||i)(W(je))},i.\u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();var Ye=(()=>{let i=class i{constructor(){this.document=c(Z),this.rendererFactory=c(we),this.src="https://unpkg.com/@googlemaps/markerclustererplus/dist/index.min.js",this.loaded=!1,this.renderer=this.rendererFactory.createRenderer(null,null)}loadScript(){return new Promise((e,t)=>{let n=this.renderer.createElement("script");this.renderer.setAttribute(n,"type","text/javascript"),this.renderer.setAttribute(n,"src",this.src),n.onload=()=>{this.loaded=!0,e({loaded:!0})},n.onerror=r=>t({loaded:!1,error:r}),this.renderer.appendChild(this.document.head,n)})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();function at(s,i){if(s&1){let a=Ce();y(0,"map-marker",7,8),ke("mapClick",function(){let n=Me(a).$implicit,r=Ee(1),o=P(2);return ze(o.openInfoWindow(r,n))}),f()}if(s&2){let a=i.$implicit,e=P(2);_("label",a.label)("options",e.markerOptions)("position",a.position)("title",a.title)}}function ot(s,i){if(s&1&&(y(0,"div")(1,"google-map",2)(2,"map-marker-clusterer",3,4),V(4,at,2,4,"map-marker",5),f(),y(5,"map-info-window")(6,"a",6)(7,"strong"),K(8),f()()()()()),s&2){let a=P();u(),_("height",a.mapHeight())("options",a.options)("width","100%"),u(),_("imagePath",a.markerClustererImagePath),u(2),_("ngForOf",a.markers),u(2),Le("href",a.activeInfoWindow==null?null:a.activeInfoWindow.www,Ie),u(2),xe(a.activeInfoWindow==null?null:a.activeInfoWindow.title)}}var Xe=(()=>{var i;let a=class a{constructor(t,n,r){he(this,i,void 0);this.document=t,this.scriptInjectorService=n,this.googleMapsLoaderService=r,this.title="",this.options={center:{lat:37.42,lng:-122.103719},zoom:10},this.markerPositions=[],this.markerClustererImagePath="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.markers=[{position:{lat:37.431489,lng:-122.163719},label:"S",title:"Stanford",www:"https://www.stanford.edu/"},{position:{lat:37.394694,lng:-122.150333},label:"T",title:"Tesla",www:"https://www.tesla.com/"},{position:{lat:37.331681,lng:-122.0301},label:"A",title:"Apple",www:"https://www.apple.com/"},{position:{lat:37.484722,lng:-122.148333},label:"F",title:"Facebook",www:"https://www.facebook.com/"}],this.scriptLoaded=H(!1),this.mapHeight=H("65vh"),ge(this,i,new ResizeObserver(o=>{let l=o[0].contentRect.height;if(l<530)return;let d=`${l-300}px`;this.mapHeight.set(d)})),this.loadMarkerClusterer()}get markerOptions(){return this.markerOptionsCache||(this.markerOptionsCache={draggable:!1}),this.markerOptionsCache}loadMarkerClusterer(){if(this.scriptInjectorService.loaded){this.scriptLoaded.set(!0);return}this.scriptInjectorService.loadScript().catch(t=>{console.log("rejected:",t)}).then(t=>{console.log("resolved:",t),this.scriptLoaded.set(!0)})}get infoWindowContent(){return this.activeInfoWindow}set infoWindowContent(t){this.title=t.title,this.activeInfoWindow=t}ngOnInit(){this.setPositions(),this.setResizeObserver()}ngOnDestroy(){this.removeGoogleMapScript(),this.unsetResizeObserver()}setPositions(){this.markers.forEach(t=>{let{lat:n,lng:r}=p({},t.position);this.markerPositions.push({lat:n,lng:r})})}openInfoWindow(t,n){this.infoWindowContent=n,this.infoWindow.open(t)}removeGoogleMapScript(){let t=["https://maps.googleapis"];window.google=void 0;let n=this.document.head.getElementsByTagName("script");for(let r=n.length-1;r>=0;r--){let o=n[r].getAttribute("src");o!=null&&t.filter(l=>o.includes(l)).length&&n[r].remove()}}setResizeObserver(){j(this,i).observe(this.document.body)}unsetResizeObserver(){j(this,i).unobserve(this.document.body)}};i=new WeakMap,a.\u0275fac=function(n){return new(n||a)(h(Z),h(Ye),h(T))},a.\u0275cmp=C({type:a,selectors:[["app-google-maps-integration"]],viewQuery:function(n,r){if(n&1&&Oe(A,5),n&2){let o;F(o=R())&&(r.infoWindow=o.first)}},standalone:!0,features:[Se([T]),k],decls:7,vars:3,consts:[["href","https://github.com/angular/components/tree/master/src/google-maps"],[4,"ngIf"],[3,"height","options","width"],[3,"imagePath"],["markerClusterer",""],[3,"label","options","position","title","mapClick",4,"ngFor","ngForOf"],["target","_blank",1,"px-2",3,"href"],[3,"label","options","position","title","mapClick"],["marker","mapMarker"]],template:function(n,r){n&1&&(y(0,"c-card")(1,"c-card-header"),K(2," Angular Google Maps "),S(3,"app-docs-link",0),f(),y(4,"c-card-body"),V(5,ot,9,7,"div",1),Pe(6,"async"),f()()),n&2&&(u(5),_("ngIf",r.scriptLoaded()&&Fe(6,1,r.googleMapsLoaderService.apiLoaded)))},dependencies:[Ve,Ge,He,Ne,Je,D,A,J,qe,Ae,Re,Ze]});let s=a;return s})();var Nt=[{path:"",component:Xe,data:{title:"Google Maps"},providers:[Be(),ve(We)]}];export{Nt as routes};
