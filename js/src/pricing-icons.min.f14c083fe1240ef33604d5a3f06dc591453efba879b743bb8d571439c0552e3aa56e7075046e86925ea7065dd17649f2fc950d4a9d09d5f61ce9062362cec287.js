const CURRENCIES=['USD','EUR','GBP','RON','AUD','CAD','CHF','CZK','DKK','HUF','JPY','NOK','PLN','SEK','TRY','RUB','CNY','BGN','HRK','BRL','HKD','IDR','KRW','MXN','MYR','NZD','PHP','SGD','ZAR','MDL','AED','EGP','INR','RSD','UAH','TWD','ILS','QAR','SAR','ARS','CLP','BOB','COP','DOP','PYG','PEN','UYU','NGN','NAD','TND','DZD','KES','MAD','PKR','THB','BYN'],popoverTriggerList=[].slice.call(document.querySelectorAll('[data-toggle="popover"]')),popoverList=popoverTriggerList.map(a=>new coreui.Popover(a)),pricingSection=document.getElementById('pricing-new');if(pricingSection){const p=pricingSection.dataset.productCode,g=document.getElementById('current-price-free'),i=document.getElementById('current-price-pro'),h=document.getElementById('payment-currency'),n=document.getElementById('buy-free'),a=document.getElementById('buy-pro');let j,e;const b=()=>navigator.language||navigator.userLanguage,d=(b,c,a)=>{const d=b.Prices.Regular.filter(a=>a.Currency===c).filter(b=>a>=b.MinQuantity).filter(b=>a<=b.MaxQuantity);return d[0].Amount},k=(b,a)=>{const c="USD",d=b[0].Prices.Regular.filter(a=>a.Currency===c).filter(b=>a>=b.MinQuantity).filter(b=>a<=b.MaxQuantity);return d[0].Amount},l=(a,b,c,d)=>{const e=a.filter(a=>a.Code===b)[0],f=e.Options.filter(a=>a.Code===c)[0],g=f.PriceImpact.Amounts[d].Amount;return g},m=(b,c,e,f=1)=>{let a=0;return c.forEach(c=>{a+=parseInt(d(b.filter(a=>a.ProductCode===`${c}-pro`)[0],e,f))}),a},c=(a,c)=>new Intl.NumberFormat(b,{style:'currency',currency:c,minimumFractionDigits:0}).format(a),o=(b,c)=>{let d=c,e=new RegExp('[?&]'+b+'=([^&#]*)','i'),a=e.exec(d);return a?a[1]:null},f=j=>{const k=j.countryCode,f=CURRENCIES.includes(j.currency)?j.currency:"USD";a.href=a.href.indexOf('QTY=')!==-1?`${a.href}&LANG=${b().split('-')[0]}&CURRENCY=${f}`:`${a.href}&language=${b().split('-')[0]}&currency=${f}`,fetch('/data/pricing.json').then(a=>a.json()).then(a=>{const b=a.Products,j=a.PricingOptionsGroups;e=b.filter(a=>a.ProductCode==='coreui-icons-pro')[0],freeBasePrice=c(0,f),proBasePrice=c(d(e,f,4),f),g.innerHTML=freeBasePrice,i.innerHTML=proBasePrice,h.innerHTML=f}).catch(a=>{throw a}),fetch('/data/payment-methods.json').then(a=>a.json()).then(a=>{const b=document.getElementById('payment-methods'),c=a.find(a=>a.countryCode===k).methods;c.forEach(c=>{const a=document.createElement('img');a.src=`/images/payment_methods/${c.img}`,a.alt=c.alt,a.style.outline='2px solid #fff',a.style.outlineOffset='-2px',b.appendChild(a)})}).catch(a=>{throw a})};fetch('https://pro.ip-api.com/json/?key=EEKS6bLi6D91G1p&fields=status,message,country,countryCode,timezone,currency,query').then(a=>a.json()).then(a=>{f(a)}).catch(a=>{fetch('https://api.coreui.io/geo/').then(a=>a.json()).then(a=>{f(a)}).catch(a=>{throw a})})}