"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6940],{8120:(te,V,l)=>{l.d(V,{K0:()=>G,MF:()=>$,WY:()=>H,Yh:()=>x,Yt:()=>b,Yx:()=>ie,e8:()=>me,ew:()=>k,ey:()=>R,gJ:()=>w,gN:()=>y,q:()=>m,q6:()=>ce,qg:()=>se,u8:()=>ue,um:()=>L,wp:()=>he});const m=(O,E)=>{const P=Math.ceil(O.length/E);return new Array(E).fill("").map((j,N)=>O.slice(N*P,(N+1)*P))},b=(O,E,P)=>{const j=new Date(2013,11,31,17,19,22);let N=P?j.toLocaleString(E):j.toLocaleDateString(E);N=N.replace("2013","(?<year>[0-9]{2,4})").replace("12","(?<month>[0-9]{1,2})").replace("31","(?<day>[0-9]{1,2})"),P&&(N=N.replace("5","(?<hour>[0-9]{1,2})").replace("17","(?<hour>[0-9]{1,2})").replace("19","(?<minute>[0-9]{1,2})").replace("22","(?<second>[0-9]{1,2})").replace("PM","(?<ampm>[A-Z]{2})"));const de=RegExp(`${N}`),Q=O.match(de);return null===Q?void 0:Q.groups&&(P?new Date(Number(Q.groups.year),Number(Q.groups.month)-1,Number(Q.groups.day),Q.groups.ampm&&"PM"===Q.groups.ampm?Number(Q.groups.hour)+12:Number(Q.groups.hour),Number(Q.groups.minute),Number(Q.groups.second)):new Date(Number(Q.groups.year),Number(Q.groups.month)-1,Number(Q.groups.day)))},x=O=>{const E=[],P=new Date;P.setDate(1);for(let j=0;j<12;j++)P.setMonth(j),E.push(P.toLocaleDateString(O,{month:"short"}));return E},L=O=>{const E=[];for(let P=O-6;P<O+6;P++)E.push(P);return E},H=(O,E,P)=>{const j=((O,E,P)=>{const j=[],N=new Date(O,E),de=N.getFullYear(),Q=N.getMonth();let Y=6-(6-new Date(de,Q,1).getDay())-P;P&&(Y=Y<0?7+Y:Y);for(let le=-1*Y;le<0;le++)j.push({date:new Date(de,Q,le+1),month:"previous"});return j})(O,E,P),N=((O,E)=>{const P=[],j=new Date(O,E+1,0).getDate();for(let N=1;N<=j;N++)P.push({date:new Date(O,E,N),month:"current"});return P})(O,E),de=((O,E,P,j)=>{const N=[],de=42-(P.length+j.length);for(let Q=1;Q<=de;Q++)N.push({date:new Date(O,E+1,Q),month:"next"});return N})(O,E,j,N),Q=[...j,...N,...de],fe=[];return Q.forEach((Y,le)=>{(le%7==0||0===fe.length)&&fe.push([]),fe[fe.length-1].push(Y)}),fe},w=(O,E,P,j)=>{if(!O||!(E||P||j&&j.length))return!1;let N;return j&&j.forEach(de=>{Array.isArray(de)&&k(O,de[0],de[1])&&(N=!0),de instanceof Date&&B(O,de)&&(N=!0)}),E&&O<E&&(N=!0),P&&O>P&&(N=!0),N},k=(O,E,P)=>O&&E&&P&&E<=O&&O<=P,G=(O,E,P)=>O&&(E&&B(E,O)||P&&B(P,O)),y=(O,E,P)=>O&&E&&P&&B(P,O)&&E<P,R=O=>{const E=new Date(O.getTime()),P=E.getMonth();return E.setDate(E.getDate()+1),E.getMonth()!==P},B=(O,E)=>O.getDate()==E.getDate()&&O.getMonth()==E.getMonth()&&O.getFullYear()==E.getFullYear(),ie=(O,E,P)=>O&&E&&P&&B(E,O)&&E<P,$=O=>{const E=new Date;return O.getDate()==E.getDate()&&O.getMonth()==E.getMonth()&&O.getFullYear()==E.getFullYear()},se=(O,E)=>{const P=new Date;return E==P.getMonth()&&O.getFullYear()==P.getFullYear()},he=O=>O==(new Date).getFullYear(),me=O=>{if(O instanceof Date||"number"==typeof O||"string"==typeof O){const E=new Date(O);return!isNaN(E.getTime())}return!1},ce=(O,E="date")=>{let P;try{if(!me(O))throw O;P=new Date(O)}catch(j){console.warn(`Invalid ${E}`,j),P=new Date,P.setHours(0,0,0,0)}return P},ue=(O,E,P)=>{if(!P||!P.length)return!1;if(O&&E){const j=new Date(O);let N=!1;for(;j<E;)if(j.setDate(j.getDate()+1),w(j,null,null,P)){N=!0;break}return N}return!1}},2562:(te,V,l)=>{l.d(V,{m:()=>ve});var e=l(4496),_=l(1368),m=l(7712),I=l(6700),v=l(8120);let b=(()=>{class p{constructor(n){this.keyValueDiffers=n,this.calendarStateObject={calendarDate:new Date,hoverDate:null,startDate:null,endDate:null,maxDate:null,minDate:null,disabledDates:[],range:!1,view:"days",locale:"default",dateFilter:void 0,weekdayFormat:"short",dayFormat:"numeric",navYearFirst:!1,showAdjacentDays:!0,selectAdjacentDays:!1},this.calendarState=new I.g(this.calendarStateObject),this.calendarState$=this.calendarState.asObservable(),this.differ=this.keyValueDiffers.find(this.calendarStateObject).create()}update(n){const c=Object.keys(n);for(const D of c){const F=this.calendarStateObject[D];F!==n[D]&&((0,v.e8)(n[D])&&F&&F.getTime()===n[D]?.getTime()||(this.calendarStateObject[D]=n[D]))}if(this.differ){const D=this.differ.diff(this.calendarStateObject);if(D){const F={...this.calendarStateObject};D.forEachChangedItem(re=>{F[re.key]=re.currentValue}),this.calendarState.next(F)}}}static#e=this.\u0275fac=function(c){return new(c||p)(e.CoB(e.YNh))};static#t=this.\u0275prov=e.wxM({token:p,factory:p.\u0275fac})}return p})(),C=(()=>{class p{transform(n,c="short",D="default"){return"function"==typeof c?c(n):"string"==typeof c?n.toLocaleDateString(D,{weekday:c}):n.toLocaleDateString(D,{weekday:"long"}).slice(0,c)}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarWeekday",type:p,pure:!0,standalone:!0})}return p})(),x=(()=>{class p{transform(n,c){return{"calendar-cell":!0,year:!0,today:(0,v.wp)(n)}}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarClassYear",type:p,pure:!0,standalone:!0})}return p})(),L=(()=>{class p{transform(n,c){const D=new Date(n);return{"calendar-cell":!0,month:!0,today:(0,v.qg)(D,c)}}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarClassMonth",type:p,pure:!0,standalone:!0})}return p})(),U=(()=>{class p{transform(n,c="numeric",D="default"){return"function"==typeof c?c(n):n.toLocaleDateString(D,{day:c})}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarDay",type:p,pure:!0,standalone:!0})}return p})(),ae=(()=>{class p{constructor(n){this.calendarService=n,this.date=null,this.startDate=null,this.endDate=null,this.hoverDate=null,this.maxDate=null,this.minDate=null,this.range=!1,this.calendarStateSubscribe()}set dateObj(n){this._dateObj=n,this.date=n.date,this.month=n.month}get selectEndDate(){return this.range&&!!this.startDate&&!this.endDate}get hostClasses(){if(!this.date)return;const n="current"===this.month&&this.selectEndDate&&(0,v.ew)(this.date,this.startDate,this.hoverDate),c=(0,v.Yx)(this.date,this.startDate,this.endDate),D=(0,v.gN)(this.date,this.startDate,this.endDate),F="current"===this.month&&((0,v.ew)(this.date,this.startDate,this.endDate)||!!c||!!D),re=(0,v.K0)(this.date,this.startDate,this.endDate),ne=(0,v.u8)(this.startDate,this.date,this.disabledDates),pe=(0,v.gJ)(this.date,this.minDate,this.maxDate,this.disabledDates),De=!!this.dateFilter&&!this.dateFilter(this.date);return{"range-hover":n&&(!ne||!De),selected:!!re,range:F,start:!!c,end:!!D,disabled:pe||De,clickable:"current"!==this.month&&this.selectAdjacentDays}}ngOnDestroy(){this.calendarStateSubscribe(!1)}calendarStateSubscribe(n=!0){n?this.calendarStateSubscription=this.calendarService.calendarState$.subscribe(c=>{const{startDate:D=this.startDate,endDate:F=this.endDate,hoverDate:re=this.hoverDate,range:ne=this.range,maxDate:pe=this.maxDate,minDate:De=this.minDate,disabledDates:be=this.disabledDates,dateFilter:ye=this.dateFilter,selectAdjacentDays:we=this.selectAdjacentDays}={...c};this.startDate=D,this.endDate=F,this.range=ne,this.hoverDate=re,this.maxDate=pe,this.minDate=De,this.disabledDates=be,this.dateFilter=ye,this.selectAdjacentDays=we}):this.calendarStateSubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||p)(e.GI1(b))};static#t=this.\u0275dir=e.Sc5({type:p,selectors:[["","cCalendarDay",""]],hostVars:2,hostBindings:function(c,D){2&c&&e.m8U(D.hostClasses)},inputs:{dateObj:[e.Wk5.None,"cCalendarDay","dateObj"]},standalone:!0})}return p})(),K=(()=>{class p{transform(n,c="default"){return n.toLocaleDateString(c)}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarDayTitle",type:p,pure:!0,standalone:!0})}return p})(),H=(()=>{class p{transform(n,c){const{date:D,month:F}={...n},{minDate:re,maxDate:ne,disabledDates:pe,dateFilter:De}={...c},be=(0,v.gJ)(D,re,ne,pe)||!!De&&!De(D);return{"calendar-cell":!0,today:(0,v.MF)(D),disabled:be,next:"next"===F,previous:"previous"===F,last:(0,v.ey)(D)}}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarClassDay",type:p,pure:!0,standalone:!0})}return p})();function w(p,X){if(1&p&&(e.I0R(0,"th",1)(1,"div",2),e.OEk(2),e.wVc(3,"calendarWeekday"),e.C$Y()()),2&p){const n=X.$implicit,c=e.GaO(2);e.yG2(2),e.oRS(" ",e.I7O(3,1,n.date,c.weekdayFormat,c.locale)," ")}}function k(p,X){if(1&p&&(e.I0R(0,"thead")(1,"tr"),e.c53(2,w,4,5,"th",3,e.oxv),e.C$Y()()),2&p){const n=e.GaO();e.yG2(2),e.oho(n.weekDays)}}function G(p,X){if(1&p){const n=e.KQA();e.I0R(0,"td",4),e.qCj("click",function(){const F=e.usT(n).$implicit,re=e.GaO(3);return e.CGJ(re.handleYearCellClick(F))})("keyup",function(D){const re=e.usT(n).$implicit,ne=e.GaO(3);return e.CGJ(ne.handleYearCellKeyUp(D,re))}),e.wVc(1,"calendarClassYear"),e.I0R(2,"div",5),e.OEk(3),e.C$Y()()}if(2&p){const n=X.$implicit,c=e.GaO(3);e.E7m("ngClass",e.kDX(1,3,n))("tabindex",0),e.yG2(3),e.oRS(" ",c.yearNumber(n)," ")}}function y(p,X){if(1&p&&(e.I0R(0,"tr"),e.c53(1,G,4,5,"td",6,e.oxv),e.C$Y()),2&p){const n=X.$implicit;e.yG2(),e.oho(n)}}function R(p,X){if(1&p&&e.c53(0,y,3,0,"tr",null,e.oxv),2&p){const n=e.GaO();e.oho(n.listOfYears)}}function B(p,X){if(1&p){const n=e.KQA();e.I0R(0,"td",4),e.qCj("click",function(){const F=e.usT(n).$index,re=e.GaO().$index,ne=e.GaO(2);return e.CGJ(ne.handleMonthCellClick(re,F))})("keyup",function(D){const re=e.usT(n).$index,ne=e.GaO().$index,pe=e.GaO(2);return e.CGJ(pe.handleMonthCellKeyUp(D,ne,re))}),e.wVc(1,"calendarClassMonth"),e.I0R(2,"div",5),e.OEk(3),e.C$Y()()}if(2&p){const n=X.$implicit,c=X.$index,D=e.GaO().$index,F=e.GaO(2);e.E7m("ngClass",e.g7$(1,3,F.calendarDate,3*D+c))("tabindex",0),e.yG2(3),e.oRS(" ",n," ")}}function ie(p,X){if(1&p&&(e.I0R(0,"tr"),e.c53(1,B,4,6,"td",6,e.oxv),e.C$Y()),2&p){const n=X.$implicit;e.yG2(),e.oho(n)}}function $(p,X){if(1&p&&e.c53(0,ie,3,0,"tr",null,e.oxv),2&p){const n=e.GaO();e.oho(n.listOfMonths)}}const se=(p,X,n,c)=>({minDate:p,maxDate:X,disabledDates:n,dateFilter:c});function he(p,X){if(1&p){const n=e.KQA();e.I0R(0,"td",8),e.qCj("click",function(){e.usT(n);const D=e.GaO().$implicit,F=e.GaO(3);return e.CGJ(("current"===D.month||F.selectAdjacentDays)&&F.handleDayCellClick(D.date))})("keyup",function(D){e.usT(n);const F=e.GaO().$implicit,re=e.GaO(3);return e.CGJ(("current"===F.month||re.selectAdjacentDays)&&re.handleDayCellKeyUp(D,F.date))})("mouseenter",function(){e.usT(n);const D=e.GaO().$implicit,F=e.GaO(3);return e.CGJ(("current"===D.month||F.selectAdjacentDays)&&F.handleCellMouseEnter(D.date))}),e.wVc(1,"calendarClassDay"),e.wVc(2,"calendarDayTitle"),e.I0R(3,"div",5),e.OEk(4),e.wVc(5,"calendarDay"),e.C$Y()()}if(2&p){const n=e.GaO().$implicit,c=e.GaO(3);e.E7m("cCalendarDay",n)("ngClass",e.g7$(1,5,n,e.WuN(15,se,c.minDate,c.maxDate,c.disabledDates,c.dateFilter)))("tabindex","current"!==n.month&&!c.selectAdjacentDays||c.isDateDisabled(n.date)?-1:0)("title",e.g7$(2,8,n.date,c.locale)),e.yG2(4),e.oRS(" ",e.I7O(5,11,n.date,c.dayFormat,c.locale)," ")}}function me(p,X){1&p&&e.wR5(0,"td",1)}function ce(p,X){if(1&p&&e.yuY(0,he,6,20,"td",7)(1,me,1,0),2&p){const n=X.$implicit,c=e.GaO(3);e.C0Y(0,"current"===n.month||c.showAdjacentDays?0:1)}}function ue(p,X){if(1&p&&(e.I0R(0,"tr"),e.c53(1,ce,2,1,null,null,e.oxv),e.C$Y()),2&p){const n=X.$implicit;e.yG2(),e.oho(n)}}function O(p,X){if(1&p&&e.c53(0,ue,3,0,"tr",null,e.oxv),2&p){const n=e.GaO();e.oho(n.monthDetails)}}let E=(()=>{class p{constructor(n){this.calendarService=n,this.addMonths=0,this._startDate=null,this._endDate=null,this._disabledDates=[],this._firstDayOfWeek=1,this._locale="default",this._range=!1,this.weekdayFormat="short",this._view="days",this._maxDate=null,this._minDate=null,this.listOfMonths=(0,v.q)((0,v.Yh)(this.locale),4),this.listOfYears=(0,v.q)((0,v.um)(this.date.getFullYear()),4),this._calendarDate=new Date,this.calendarStateSubscribe()}set startDate(n){const c=n?(0,v.q6)(n,"startDate"):null;this._startDate?.getTime()!==c?.getTime()&&(this._startDate=c,this.calendarService.update({startDate:this._startDate}))}get startDate(){return this._startDate}set endDate(n){const c=n?(0,v.q6)(n,"endDate"):null;this._endDate?.getTime()!==c?.getTime()&&(this._endDate=c,this.calendarService.update({endDate:this._endDate}))}get endDate(){return this._endDate}set disabledDates(n){this._disabledDates=n}get disabledDates(){return this._disabledDates}set firstDayOfWeek(n){this._firstDayOfWeek=(0,m.wZ)(n)}get firstDayOfWeek(){return this._firstDayOfWeek}set locale(n){this._locale=n,this.listOfMonths=(0,v.q)((0,v.Yh)(n),4)}get locale(){return this._locale}set range(n){this._range=(0,m.W6)(n)}get range(){return this._range}set view(n){this._view=n,this.listOfYears=(0,v.q)((0,v.um)(this.date.getFullYear()),4)}get view(){return this._view}set maxDate(n){this._maxDate=n?(0,v.q6)(n,"maxDate"):null}get maxDate(){return this._maxDate}set minDate(n){this._minDate=n?(0,v.q6)(n,"minDate"):null}get minDate(){return this._minDate}set calendarDate(n){const c=new Date((0,v.q6)(n??this.startDate,"calendarDate"));c&&this._calendarDate.getTime()!==c.getTime()&&(this.listOfYears=(0,v.q)((0,v.um)(c.getFullYear()),4),this._calendarDate=new Date(new Date(c.setDate(1)).setHours(0,0,0,0)),this.setMonthDetails(this.date),this.calendarService.update({calendarDate:this._calendarDate}))}get calendarDate(){return this._calendarDate}get date(){return new Date(this.calendarDate?.getFullYear(),this.calendarDate?.getMonth()+this.addMonths)}get monthDetails(){return this._monthDetails}get weekDays(){return this.monthDetails[0]}ngOnInit(){this.listOfMonths=(0,v.q)((0,v.Yh)(this.locale),4),this.setMonthDetails(this.date)}setMonthDetails(n=this.date){this._monthDetails=(0,v.WY)(n.getFullYear(),n.getMonth(),this.firstDayOfWeek)}yearNumber(n){return new Date(n,0).toLocaleDateString(this.locale,{year:"numeric"})}isDateDisabled(n){return(0,v.gJ)(n,this.minDate,this.maxDate,this.disabledDates)||!!this.dateFilter&&!this.dateFilter(n)}calendarCellTitle(n){return n.toLocaleDateString(this.locale)}handleCellMouseEnter(n){const c=this.isDateDisabled(n)?null:n;this.calendarService.update({hoverDate:c})}handleYearCellClick(n){const c=new Date(n,this.calendarDate.getMonth(),1,0,0,0,0);this.view="months",this.calendarService.update({view:this.view,calendarDate:c})}handleYearCellKeyUp(n,c){"Enter"!==n.key||this.handleYearCellClick(c)}handleMonthCellKeyUp(n,c,D){"Enter"!==n.key||this.handleMonthCellClick(c,D)}handleMonthCellClick(n,c){this.setCalendarPage(0,0,3*n+c-this.addMonths),this.view="days",this.calendarService.update({view:this.view})}setCalendarPage(n,c=0,D){const F=this.date.getFullYear(),re=this.date.getMonth(),ne=new Date(F,re,1,0,0,0,0);n&&ne.setFullYear(ne.getFullYear()+n),c&&ne.setMonth(ne.getMonth()+c),"number"==typeof D&&ne.setMonth(D),this.calendarService.update({calendarDate:ne})}handleCellMouseLeave(){this.calendarService.update({hoverDate:null})}handleDayCellKeyUp(n,c){"Enter"!==n.key?"Tab"!==n.key||this.handleCellMouseEnter(c):this.handleDayCellClick(c)}handleDayCellClick(n){if(!this.isDateDisabled(n)){if(!this.range)return this.endDate=null,void(this.startDate=n);if(this.startDate&&this.endDate){const c=new Date(n.getFullYear(),n.getMonth(),1,0,0,0,0);return this.calendarDate=c,this.endDate=null,void(this.startDate=null)}if(this.startDate&&!this.endDate?this.startDate&&n<this.startDate?(this.endDate=null,this.startDate=n):this.endDate=n:(this.endDate=null,this.startDate=n),this.startDate&&this.endDate&&(0,v.u8)(this.startDate,this.endDate,this.disabledDates))return this.startDate=null,void(this.endDate=null)}}calendarStateSubscribe(n=!0){n?this.calendarStateSubscription=this.calendarService.calendarState$.subscribe(c=>{const D=Object.keys(c);for(const F of D)this[F]=c[F]}):this.calendarStateSubscription?.unsubscribe()}ngOnDestroy(){this.calendarStateSubscribe(!1)}static#e=this.\u0275fac=function(c){return new(c||p)(e.GI1(b))};static#t=this.\u0275cmp=e.In1({type:p,selectors:[["c-calendar-month"]],inputs:{addMonths:"addMonths",startDate:"startDate",endDate:"endDate",disabledDates:"disabledDates",firstDayOfWeek:"firstDayOfWeek",locale:"locale",range:"range",weekdayFormat:"weekdayFormat",view:"view",maxDate:"maxDate",minDate:"minDate",calendarDate:"calendarDate"},exportAs:["cCalendarMonth"],standalone:!0,features:[e.UHJ],decls:6,vars:2,consts:[[3,"mouseleave"],[1,"calendar-cell"],[1,"calendar-header-cell-inner"],["class","calendar-cell"],[3,"ngClass","tabindex","click","keyup"],[1,"calendar-cell-inner"],[3,"ngClass","tabindex"],[3,"cCalendarDay","ngClass","tabindex","title"],[3,"cCalendarDay","ngClass","tabindex","title","click","keyup","mouseenter"]],template:function(c,D){if(1&c&&(e.I0R(0,"table"),e.yuY(1,k,4,0,"thead"),e.I0R(2,"tbody",0),e.qCj("mouseleave",function(){return D.handleCellMouseLeave()}),e.yuY(3,R,2,0)(4,$,2,0)(5,O,2,0),e.C$Y()()),2&c){let F;e.yG2(),e.C0Y(1,"days"===D.view?1:-1),e.yG2(2),e.C0Y(3,"years"===(F=D.view)?3:"months"===F?4:5)}},dependencies:[ae,U,K,H,L,x,C,_.QF],encapsulation:2})}return p})();var P=l(156);function j(p,X){if(1&p){const n=e.KQA();e.I0R(0,"button",6),e.qCj("click",function(){e.usT(n);const D=e.GaO(2);return e.CGJ(D.handleNavigationClick("prev"))}),e.wR5(1,"span",8),e.C$Y()}}function N(p,X){if(1&p){const n=e.KQA();e.I0R(0,"div",5)(1,"button",6),e.qCj("click",function(){e.usT(n);const D=e.GaO();return e.CGJ(D.handleNavigationClick("prev",!0))}),e.wR5(2,"span",7),e.C$Y(),e.yuY(3,j,2,0,"button",2),e.C$Y()}if(2&p){const n=e.GaO();e.yG2(3),e.C0Y(3,"days"===n.view?3:-1)}}const de=()=>({month:"long"});function Q(p,X){if(1&p){const n=e.KQA();e.I0R(0,"button",6),e.qCj("click",function(){e.usT(n);const D=e.GaO();return e.CGJ(D.setView("months"))}),e.OEk(1),e.C$Y()}if(2&p){const n=e.GaO();e.yG2(),e.oRS(" ",n.date.toLocaleDateString(n.locale,e.q4q(1,de))," ")}}function fe(p,X){if(1&p){const n=e.KQA();e.I0R(0,"button",6),e.qCj("click",function(){e.usT(n);const D=e.GaO(2);return e.CGJ(D.handleNavigationClick("next"))}),e.wR5(1,"span",11),e.C$Y()}}function Y(p,X){if(1&p){const n=e.KQA();e.I0R(0,"div",9),e.yuY(1,fe,2,0,"button",2),e.I0R(2,"button",6),e.qCj("click",function(){e.usT(n);const D=e.GaO();return e.CGJ(D.handleNavigationClick("next",!0))}),e.wR5(3,"span",10),e.C$Y()()}if(2&p){const n=e.GaO();e.yG2(),e.C0Y(1,"days"===n.view?1:-1)}}const le=()=>({display:"flex",justifyContent:"center"}),d=()=>({}),S=()=>({order:"-1"}),M=()=>({year:"numeric"});let Z=(()=>{class p{constructor(n){this.calendarService=n,this.addMonths=0,this._calendarDate=new Date,this.navigation=!0,this.navYearFirst=!1,this.locale="default",this.view="days",this.navigationClick=new e._w7,this.calendarStateSubscribe()}set calendarDate(n){this._calendarDate=n}get calendarDate(){return this._calendarDate}get date(){return new Date(this.calendarDate.getFullYear(),this.calendarDate.getMonth()+this.addMonths)}get hostClasses(){return{"calendar-nav":!0}}ngOnDestroy(){this.calendarStateSubscribe(!1)}calendarStateSubscribe(n=!0){n?this.calendarStateSubscription=this.calendarService.calendarState$.subscribe(c=>{const D=Object.keys(c);for(const F of D)F in this&&(this[F]=c[F])}):this.calendarStateSubscription?.unsubscribe()}setView(n){this.view=n,this.calendarService.update({view:n})}handleNavigationClick(n,c=!1){this.navigationClick.emit({direction:n,years:c})}static#e=this.\u0275fac=function(c){return new(c||p)(e.GI1(b))};static#t=this.\u0275cmp=e.In1({type:p,selectors:[["c-calendar-navigation"]],hostVars:2,hostBindings:function(c,D){2&c&&e.m8U(D.hostClasses)},inputs:{addMonths:"addMonths",calendarDate:"calendarDate",navigation:"navigation",navYearFirst:"navYearFirst"},outputs:{navigationClick:"navigationClick"},standalone:!0,features:[e.UHJ],decls:6,vars:11,consts:[["class","calendar-nav-prev"],[1,"calendar-nav-date",3,"ngStyle"],["cButton","","color","transparent","size","sm","tabindex","0"],["cButton","","color","transparent","size","sm","tabindex","0",3,"ngStyle","click"],["class","calendar-nav-next"],[1,"calendar-nav-prev"],["cButton","","color","transparent","size","sm","tabindex","0",3,"click"],[1,"calendar-nav-icon","calendar-nav-icon-double-prev"],[1,"calendar-nav-icon","calendar-nav-icon-prev"],[1,"calendar-nav-next"],[1,"calendar-nav-icon","calendar-nav-icon-double-next"],[1,"calendar-nav-icon","calendar-nav-icon-next"]],template:function(c,D){1&c&&(e.yuY(0,N,4,1,"div",0),e.I0R(1,"div",1),e.yuY(2,Q,2,2,"button",2),e.I0R(3,"button",3),e.qCj("click",function(){return D.setView("years")}),e.OEk(4),e.C$Y()(),e.yuY(5,Y,4,1,"div",4)),2&c&&(e.C0Y(0,D.navigation?0:-1),e.yG2(),e.E7m("ngStyle",D.navYearFirst?e.q4q(6,le):e.q4q(7,d)),e.yG2(),e.C0Y(2,"days"===D.view?2:-1),e.yG2(),e.E7m("ngStyle",D.navYearFirst?e.q4q(8,S):e.q4q(9,d)),e.yG2(),e.oRS(" ",D.date.toLocaleDateString(D.locale,e.q4q(10,M))," "),e.yG2(),e.C0Y(5,D.navigation?5:-1))},dependencies:[P.A,_.Qt],styles:[".btn-transparent[_ngcontent-%COMP%]:focus-visible{outline:-webkit-focus-ring-color auto 1px}"]})}return p})(),ee=(()=>{class p{transform(n){return{calendar:!0,[`${n}`]:!!n}}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275pipe=e.UTH({name:"calendarClassView",type:p,pure:!0,standalone:!0})}return p})();function ge(p,X){if(1&p){const n=e.KQA();e.I0R(0,"div",0),e.wVc(1,"calendarClassView"),e.I0R(2,"c-calendar-navigation",1),e.qCj("navigationClick",function(D){e.usT(n);const F=e.GaO();return e.CGJ(F.handleNavigationClick(D.direction,D.years))}),e.C$Y(),e.wR5(3,"c-calendar-month",2),e.C$Y()}if(2&p){const n=X.$index,c=e.GaO();e.E7m("ngClass",e.kDX(1,6,c.view)),e.yG2(2),e.E7m("addMonths",n)("navigation",c.navigation),e.yG2(),e.E7m("addMonths",n)("firstDayOfWeek",c.firstDayOfWeek)("weekdayFormat",c.weekdayFormat)}}let ve=(()=>{class p{constructor(n){this.calendarService=n,this._calendarDate=(0,v.q6)(new Date),this._calendars=1,this._dayFormat="numeric",this._disabledDates=[],this._startDate=null,this._endDate=null,this._firstDayOfWeek=1,this._locale="default",this._maxDate=null,this._minDate=null,this._navigation=!0,this._navYearFirst=!1,this._range=!1,this._view="days",this._weekdayFormat="short",this.selectAdjacentDays=!1,this.showAdjacentDays=!0,this.calendarCellHover=new e._w7,this.calendarDateChange=new e._w7,this.endDateChange=new e._w7,this.startDateChange=new e._w7,this.viewChange=new e._w7,this._hoverDate=null,this.calendarStateSubscribe()}set calendarDate(n){const c=new Date((0,v.q6)(n??this.startDate,"calendarDate"));if(c&&this._calendarDate.getTime()!==c.getTime()){const D=new Date(new Date(c.setDate(1)).setHours(0,0,0,0));this._calendarDate=D,this.calendarDateChange.emit(D),this.calendarService.update({calendarDate:D})}}get calendarDate(){return this._calendarDate}set calendars(n){this._calendars=(0,m.wZ)(n)}get calendars(){return this._calendars}get calendarsArray(){return Array.from({length:this.calendars})}set dayFormat(n){this._dayFormat=n,this.calendarService.update({dayFormat:this._dayFormat})}get dayFormat(){return this._dayFormat}set disabledDates(n){this._disabledDates=n,this.calendarService.update({disabledDates:this._disabledDates})}get disabledDates(){return this._disabledDates}set startDate(n){const c=n?(0,v.q6)(n,"startDate"):null;this._startDate?.getTime()!==c?.getTime()&&(this._startDate=c,this.calendarService.update({startDate:this._startDate}),(!this.range||!this._startDate||this.endDate&&this._startDate>this.endDate)&&(this.endDate=null))}get startDate(){return this._startDate}set endDate(n){const c=n?(0,v.q6)(n,"endDate"):null;this._endDate?.getTime()!==c?.getTime()&&(this._endDate=c,this.calendarService.update({endDate:this._endDate}))}get endDate(){return this.range?this._endDate:null}set firstDayOfWeek(n){this._firstDayOfWeek=(0,m.wZ)(n)}get firstDayOfWeek(){return this._firstDayOfWeek}set locale(n){this._locale=n,this.calendarService.update({locale:n})}get locale(){return this._locale}set maxDate(n){this._maxDate=n?(0,v.q6)(n,"maxDate"):null,this.calendarService.update({maxDate:this._maxDate})}get maxDate(){return this._maxDate}set minDate(n){this._minDate=n?(0,v.q6)(n,"minDate"):null,this.calendarService.update({minDate:this._minDate})}get minDate(){return this._minDate}set navigation(n){this._navigation=(0,m.W6)(n)}get navigation(){return this._navigation}set navYearFirst(n){this._navYearFirst=(0,m.W6)(n),this.calendarService.update({navYearFirst:this._navYearFirst})}get navYearFirst(){return this._navYearFirst}set range(n){this._range=(0,m.W6)(n),this.calendarService.update({range:this._range})}get range(){return this._range}set view(n){this._view=n,this.calendarService.update({view:n})}get view(){return this._view}set weekdayFormat(n){this._weekdayFormat=n,this.calendarService.update({weekdayFormat:this._weekdayFormat})}get weekdayFormat(){return this._weekdayFormat}set dateFilter(n){this.calendarService.update({dateFilter:n})}set hoverDate(n){this._hoverDate=n,this.calendarCellHover.emit(n)}get hoverDate(){return this._hoverDate}get hostClasses(){return{calendars:!0}}ngOnDestroy(){this.calendarStateSubscribe(!1)}ngOnInit(){this.calendarService.update({locale:this.locale,view:this.view,range:this.range,showAdjacentDays:this.showAdjacentDays,selectAdjacentDays:this.selectAdjacentDays})}calendarStateSubscribe(n=!0){n?this.calendarStateSubscription=this.calendarService.calendarState$.subscribe(c=>{const D=Object.keys(c);for(const F of D)if(F in this&&this[F]!==c[F]){if(this[F]=c[F],"startDate"===F){setTimeout(()=>{this.startDateChange.emit(this._startDate)});continue}"endDate"===F&&setTimeout(()=>{this.endDateChange.emit(this._endDate)})}}):this.calendarStateSubscription?.unsubscribe()}setCalendarPage(n,c=0,D){const F=this.calendarDate.getFullYear(),re=this.calendarDate.getMonth(),ne=new Date(F,re,1);n&&ne.setFullYear(ne.getFullYear()+n),c&&ne.setMonth(ne.getMonth()+c),"number"==typeof D&&ne.setMonth(D),this.calendarDate=ne}handleNavigationClick(n,c=!1){return"prev"===n?c?void this.setCalendarPage("years"===this.view?-10:-1):"days"!==this.view?void this.setCalendarPage(-1):void this.setCalendarPage(0,-1):"next"===n?c?void this.setCalendarPage("years"===this.view?10:1):"days"!==this.view?void this.setCalendarPage(1):void this.setCalendarPage(0,1):void 0}clearDates(){this.calendarService.update({endDate:null}),this.calendarService.update({startDate:null})}static#e=this.\u0275fac=function(c){return new(c||p)(e.GI1(b))};static#t=this.\u0275cmp=e.In1({type:p,selectors:[["c-calendar"]],viewQuery:function(c,D){if(1&c&&e.CC$(E,5),2&c){let F;e.wto(F=e.Gqi())&&(D.calendarMonths=F)}},hostVars:2,hostBindings:function(c,D){2&c&&e.m8U(D.hostClasses)},inputs:{calendarDate:"calendarDate",calendars:"calendars",dayFormat:"dayFormat",disabledDates:"disabledDates",startDate:"startDate",endDate:"endDate",firstDayOfWeek:"firstDayOfWeek",locale:"locale",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",navYearFirst:"navYearFirst",range:"range",view:"view",weekdayFormat:"weekdayFormat",dateFilter:"dateFilter",selectAdjacentDays:"selectAdjacentDays",showAdjacentDays:"showAdjacentDays"},outputs:{calendarCellHover:"calendarCellHover",calendarDateChange:"calendarDateChange",endDateChange:"endDateChange",startDateChange:"startDateChange",viewChange:"viewChange"},exportAs:["cCalendar"],standalone:!0,features:[e.M5G([b]),e.UHJ],decls:2,vars:0,consts:[[3,"ngClass"],[3,"addMonths","navigation","navigationClick"],[3,"addMonths","firstDayOfWeek","weekdayFormat"]],template:function(c,D){1&c&&e.c53(0,ge,4,8,"div",0,e.oxv),2&c&&e.oho(D.calendarsArray)},dependencies:[Z,ee,E,_.QF],styles:[".btn-transparent[_ngcontent-%COMP%]:focus-visible{outline:-webkit-focus-ring-color auto 1px}"]})}return p})()},940:(te,V,l)=>{l.d(V,{S:()=>m});var e=l(4496);const _=["*"];let m=(()=>{class I{get hostClasses(){return{"card-body":!0}}static#e=this.\u0275fac=function(C){return new(C||I)};static#t=this.\u0275cmp=e.In1({type:I,selectors:[["c-card-body"],["","c-card-body",""]],hostVars:2,hostBindings:function(C,x){2&C&&e.m8U(x.hostClasses)},standalone:!0,features:[e.UHJ],ngContentSelectors:_,decls:1,vars:0,template:function(C,x){1&C&&(e.kPM(),e._Xx(0))},encapsulation:2})}return I})()},1308:(te,V,l)=>{l.d(V,{u:()=>m});var e=l(4496);const _=["*"];let m=(()=>{class I{get hostClasses(){return{card:!0,[`bg-${this.color}`]:!!this.color,[`text-${this.textColor}`]:!!this.textColor}}constructor(){}static#e=this.\u0275fac=function(C){return new(C||I)};static#t=this.\u0275cmp=e.In1({type:I,selectors:[["c-card"],["","c-card",""]],hostVars:2,hostBindings:function(C,x){2&C&&e.m8U(x.hostClasses)},inputs:{color:"color",textColor:"textColor"},standalone:!0,features:[e.UHJ],ngContentSelectors:_,decls:1,vars:0,template:function(C,x){1&C&&(e.kPM(),e._Xx(0))},encapsulation:2})}return I})()},452:(te,V,l)=>{l.d(V,{W:()=>_});var e=l(4496);let _=(()=>{class m{static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275mod=e.a4G({type:m});static#i=this.\u0275inj=e.s3X({})}return m})()},2640:(te,V,l)=>{l.d(V,{Y:()=>e});var e=function(_){return _.xs="xs",_.sm="sm",_.md="md",_.lg="lg",_.xl="xl",_.xxl="xxl",_}(e||{})},1728:(te,V,l)=>{l.d(V,{w:()=>m});var e=l(6288),_=l(4496);let m=(()=>{class I{static#e=this.\u0275fac=function(C){return new(C||I)};static#t=this.\u0275mod=_.a4G({type:I});static#i=this.\u0275inj=_.s3X({imports:[e.U]})}return I})()},9088:(te,V,l)=>{l.d(V,{G:()=>_});var e=l(4496);let _=(()=>{class m{transform(v,...b){return v[0]}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275pipe=e.UTH({name:"customRangeKey",type:m,pure:!0,standalone:!0})}return m})()},6288:(te,V,l)=>{l.d(V,{U:()=>fe});var e=l(4496),_=l(1368),m=l(4716),I=l(7712),v=l(156),b=l(8120),C=l(2562),x=l(3500),L=l(920),U=l(9568),ae=l(1500),K=l(3400),H=l(7968),w=l(3144),k=l(9088),G=l(1216);const y=["startDateElementRef"],R=["endDateElementRef"];function B(Y,le){1&Y&&(e.I0R(0,"span",5),e.wR5(1,"span",12),e.C$Y())}const ie=Y=>({hover:Y});function $(Y,le){if(1&Y){const d=e.KQA();e.I0R(0,"input",3,13),e.qCj("change",function(M){e.usT(d);const Z=e.GaO();return e.CGJ(Z.handleEndDateInputChange(M))}),e.C$Y()}if(2&Y){const d=e.GaO();let S,M;e.E7m("formControl",d.endDateInput)("ngClass",e.S45(6,ie,!!d.inputEndHoverValue))("placeholder",d.endDatePlaceholder)("readonly",null!==(S=d.inputReadOnly)&&void 0!==S?S:null)("valid",null!==(M=d.valid)&&void 0!==M?M:void 0),e.e48("tabindex",d.disabled?-1:0)}}function se(Y,le){1&Y&&(e.I0R(0,"span",16),e.wR5(1,"span",17),e.C$Y())}function he(Y,le){if(1&Y){const d=e.KQA();e.I0R(0,"span",18),e.qCj("click",function(M){e.usT(d);const Z=e.GaO(2);return e.CGJ(!Z.disabled&&Z.handleClear(M))}),e.wR5(1,"span",19),e.C$Y()}}function me(Y,le){if(1&Y&&(e.I0R(0,"span",5),e.yuY(1,se,2,0,"span",14)(2,he,2,0,"span",15),e.C$Y()),2&Y){const d=e.GaO(),S=e.Gew(4);e.yG2(),e.C0Y(1,d.indicator?1:-1),e.yG2(),e.C0Y(2,d.cleaner&&S.value&&!d.disabled?2:-1)}}function ce(Y,le){if(1&Y){const d=e.KQA();e.I0R(0,"button",22),e.qCj("click",function(){const Z=e.usT(d).$implicit,ee=e.GaO(3);return e.CGJ(ee.setCustomRange(Z))}),e.OEk(1),e.wVc(2,"customRangeKey"),e.C$Y()}if(2&Y){const d=le.$implicit,S=e.GaO(3);e.E7m("color",S.rangesButtonsColor)("size",S.rangesButtonsSize)("variant",S.rangesButtonsVariant),e.yG2(),e.oRS(" ",e.kDX(2,4,d)," ")}}function ue(Y,le){if(1&Y&&(e.I0R(0,"div",21),e.c53(1,ce,3,6,"button",23,e.oxv),e.C$Y()),2&Y){const d=e.GaO(2);e.yG2(),e.oho(d.customRanges)}}function O(Y,le){if(1&Y&&e.yuY(0,ue,3,0,"div",20),2&Y){const d=e.GaO();e.C0Y(0,d.ranges&&d.customRanges.length>0?0:-1)}}function E(Y,le){if(1&Y){const d=e.KQA();e.I0R(0,"c-time-picker",25),e.qCj("timeChange",function(M){e.usT(d);const Z=e.GaO(2);return e.CGJ(Z.handleEndTimeChange(M))}),e.C$Y()}if(2&Y){const d=e.GaO(2);let S;e.E7m("locale",d.locale)("disabled",!d.endDate)("time",null!==(S=d.endDate)&&void 0!==S?S:void 0)}}function P(Y,le){if(1&Y){const d=e.KQA();e.I0R(0,"div",24)(1,"c-time-picker",25),e.qCj("timeChange",function(M){e.usT(d);const Z=e.GaO();return e.CGJ(Z.handleStartTimeChange(M))}),e.C$Y(),e.yuY(2,E,1,3,"c-time-picker",26),e.C$Y()}if(2&Y){const d=e.GaO();let S;e.yG2(),e.E7m("locale",d.locale)("disabled",!d.startDate)("time",null!==(S=d.startDate)&&void 0!==S?S:void 0),e.yG2(),e.C0Y(2,d.range?2:-1)}}function j(Y,le){1&Y&&e.C_f(0)}const N=Y=>({$implicit:Y});function de(Y,le){if(1&Y&&(e.I0R(0,"div",27),e.yuY(1,j,1,0,"ng-container",28),e.C$Y()),2&Y){const d=e.GaO(),S=e.Gew(1);e.yG2(),e.E7m("ngTemplateOutlet",null==d.templates?null:d.templates.datePickerFooter)("ngTemplateOutletContext",e.S45(2,N,S))}}const Q=["*"];let fe=(()=>{class Y{constructor(d){this.breakpointObserver=d,this.dayFormat="numeric",this._calendars=2,this._cleaner=!0,this.#e=!1,this._indicator=!0,this._inputReadOnly=!1,this._navYearFirst=!1,this.placeholder=["Start date","End date"],this.rangesButtonsColor="secondary",this.rangesButtonsSize="",this.rangesButtonsVariant="ghost",this._separator=!0,this._timepicker=!1,this._visible=!1,this.calendarDate=new Date,this.disabledDates=[],this._firstDayOfWeek=1,this.locale="default",this.maxDate=null,this.minDate=null,this._navigation=!0,this._range=!0,this._disabled=!1,this._value={},this.weekdayFormat="short",this.popperjsOptions={strategy:"fixed"},this.#t=!1,this.showAdjacentDays=!0,this.valueChange=new e._w7,this.calendarCellHover=new e._w7,this.calendarDateChange=new e._w7,this.endDateChange=new e._w7,this.startDateChange=new e._w7,this.templates={},this.dateChangeSubscriptions=[],this.isMobile=!0,this.showRanges=!1,this._startDateValue=this.formatDate(this.startDate),this._endDateValue=this.formatDate(this.endDate),this.startDateInput=new m.Ku({value:this.startDateValue,disabled:this.disabled},[m.AQ.required]),this.endDateInput=new m.Ku({value:this.endDateValue,disabled:this.disabled},[m.AQ.required]),this.#i={OneCalendarRanges:"(min-width: 480px)",TwoCalendars:"(max-width: 650px)",TwoCalendarsRanges:"(max-width: 810px)"},this.setInputValue=(S,M)=>{S&&(S.nativeElement.value=this.formatDate(M))},this.onChange=S=>{},this.onTouched=()=>{}}set calendars(d){this._calendars=(0,I.wZ)(d)}get calendars(){return this._calendars}set cleaner(d){this._cleaner=(0,I.W6)(d)}get cleaner(){return this._cleaner}set closeOnSelect(d){this.#e=(0,I.W6)(d)}get closeOnSelect(){return this.#e}#e;set indicator(d){this._indicator=(0,I.W6)(d)}get indicator(){return this._indicator}set inputReadOnly(d){this._inputReadOnly=(0,I.W6)(d)}get inputReadOnly(){return this._inputReadOnly||"string"==typeof this.format}set navYearFirst(d){this._navYearFirst=(0,I.W6)(d)}get navYearFirst(){return this._navYearFirst}set separator(d){this._separator=(0,I.W6)(d)}get separator(){return this._separator}set timepicker(d){this._timepicker=(0,I.W6)(d)}get timepicker(){return!1}set visible(d){this._visible=(0,I.W6)(d)}get visible(){return this._visible}set startDate(d){const S=this._startDate?new Date(this._startDate):null;this._startDate=d?new Date(d):null,S?.getTime()!==this._startDate?.getTime()&&(this.startDateValue=this.formatDate(this._startDate),this.startDateChange.emit(this._startDate))}get startDate(){return this._startDate}set endDate(d){const S=this._endDate?new Date(this._endDate??0):null;this._endDate=d?new Date(d):null,S?.getTime()!==this._endDate?.getTime()&&(this.endDateValue=this.formatDate(this._endDate),this.endDateChange.emit(this._endDate))}get endDate(){return this._endDate}set firstDayOfWeek(d){this._firstDayOfWeek=(0,I.wZ)(d)}get firstDayOfWeek(){return this._firstDayOfWeek}set navigation(d){this._navigation=(0,I.W6)(d)}get navigation(){return this._navigation}set range(d){this._range=(0,I.W6)(d)}get range(){return this._range}set disabled(d){this._disabled=(0,I.W6)(d),this._disabled?this.startDateInput.disable():this.startDateInput.enable(),this._disabled?this.endDateInput.disable():this.endDateInput.enable()}get disabled(){return this._disabled}set value(d){const S=this.range?{...d}:d;JSON.stringify(this._value)!==JSON.stringify(S)&&(this._value=S,this.range?(this.handleStartDateChange(S.startDate??null),this.handleEndDateChange(S.endDate??null)):this.handleStartDateChange(S??null),this.onChange(S),this.onTouched(),this.valueChange.emit(this.value),this.closeOnSelect)&&(this.visible=!(this.range?this.value.startDate&&this.value.endDate:this.value))}get value(){return this._value}set selectAdjacentDays(d){this.#t=(0,I.W6)(d)}get selectAdjacentDays(){return this.#t}#t;subscribeDateChange(d=!0){d||this.dateChangeSubscriptions.forEach(S=>{S?.unsubscribe()})}onBlur(){this.onTouched()}set startDateValue(d){this.startDateInput.setValue(d),this._startDateValue=d}get startDateValue(){return this._startDateValue}set endDateValue(d){this.endDateInput.setValue(d),this._endDateValue=d}get endDateValue(){return this._endDateValue}get startDatePlaceholder(){return Array.isArray(this.placeholder)?this.placeholder[0]:this.placeholder}get endDatePlaceholder(){return Array.isArray(this.placeholder)?this.placeholder[1]:this.placeholder}set inputStartHoverValue(d){this._inputStartHoverValue=d}get inputStartHoverValue(){return this._inputStartHoverValue}set inputEndHoverValue(d){this._inputEndHoverValue=d}get inputEndHoverValue(){return this._inputEndHoverValue}get datePickerClasses(){return{"is-valid":!0===this.valid,"is-invalid":!1===this.valid}}formatDate(d){return d&&(0,b.e8)(d)?this.format?(0,_._m)(d,this.format,this.locale):this.timepicker?d.toLocaleString(this.locale):d.toLocaleDateString(this.locale):""}#i;ngOnInit(){this.customRanges=this.ranges?Object.entries(this.ranges):[];const d=this.#i;this.layoutChanges=this.breakpointObserver.observe([d.OneCalendarRanges,d.TwoCalendars,d.TwoCalendarsRanges]).subscribe(S=>{S.matches&&(this.isMobile=this.customRanges?.length>0&&S.breakpoints[d.TwoCalendarsRanges]||S.breakpoints[d.TwoCalendars],this.customRanges?.length>0&&(this.showRanges=!S.breakpoints[d.OneCalendarRanges]))}),this.startDateValue=this.formatDate(this.startDate),this.endDateValue=this.formatDate(this.endDate),this.subscribeDateChange()}ngOnDestroy(){this.layoutChanges?.unsubscribe(),this.subscribeDateChange(!1)}ngAfterViewInit(){setTimeout(()=>{this.contentTemplates.forEach(d=>{this.templates[d.id]=d.templateRef})})}ngOnChanges(d){if(d.date){const S=this.convertValueToDate(d.date?.currentValue)??null;this.handleStartDateChange(S),this.calendarDate=S??this.calendarDate}if(d.startDate){const S=this.convertValueToDate(d.startDate?.currentValue)??null;this.handleStartDateChange(S),this.calendarDate=S??this.calendarDate}if(d.endDate){const S=this.convertValueToDate(d.endDate?.currentValue)??null;this.handleEndDateChange(S)}d.locale&&(this.startDateValue=this.formatDate(this.startDate),this.endDateValue=this.formatDate(this.endDate))}convertValueToDate(d){return d?"string"==typeof d?(0,b.Yt)(d,this.locale,this.timepicker):new Date(d)??null:null}getCustomRangeKey(d){return d[0]}setCustomRange(d){this.getCustomRangeKey(d),this.handleStartDateChange(d[1][0]),this.handleEndDateChange(d[1][1])}handleCalendarCellHover(d){return this.calendarCellHover.emit(d),this.startDate?this.endDate?void 0:(this.setInputValue(this.endDateElementRef,d),void(this.inputEndHoverValue=d)):(this.setInputValue(this.startDateElementRef,d),this.inputStartHoverValue=d,this.setInputValue(this.endDateElementRef,null),void(this.inputEndHoverValue=null))}handleCalendarDateChange(d){this.calendarDate.getTime()!==d.getTime()&&this.calendarDateChange.emit(d)}handleStartDateChange(d){d?.getTime()!==this.startDate?.getTime()&&(this.startDate=d??null,this.startDateValue=this.formatDate(this.startDate),this.inputStartHoverValue=null,this.value=this.range?{startDate:this.startDate,endDate:this.endDate}:this.startDate)}handleEndDateChange(d){if(d?.getTime()!==this.endDate?.getTime()){if(!this.range)return;this.endDate=d??null,this.endDateValue=this.formatDate(this.endDate),this.inputEndHoverValue=null,this.value=this.range?{startDate:this.startDate,endDate:this.endDate}:this.startDate}}handleClear(d){this.handleStartDateChange(null),this.handleEndDateChange(null)}handleStartDateInputChange(d){const S=(0,b.Yt)(d.target?.value,this.locale,this.timepicker);S||(this.handleStartDateChange(null),this.handleEndDateChange(null)),S instanceof Date&&S.getTime()&&(this.forbiddenDate(S)||this.endDate&&this.endDate<S||(this.calendarDate=S,this.startDate=S)),this.handleStartDateChange(this.startDate??null)}handleEndDateInputChange(d){const S=(0,b.Yt)(d.target?.value,this.locale,this.timepicker);S||(this.endDate=null),S instanceof Date&&S.getTime()&&(this.forbiddenDate(S)||this.startDate&&this.startDate>S||(this.calendarDate=S,this.endDate=S)),this.handleEndDateChange(this.endDate??null)}forbiddenDate(d){return(0,b.gJ)(d,this.minDate,this.maxDate,this.disabledDates)||!!this.dateFilter&&!this.dateFilter(d)}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}setDisabledState(d){this.disabled=d}writeValue(d){null!==d&&(this.value=this.range?{...d}:d)}handleStartTimeChange(d){this.startDate=d??this.startDate}handleEndTimeChange(d){this.range&&(this.endDate=d??this.endDate)}static#s=this.\u0275fac=function(S){return new(S||Y)(e.GI1(G.w$))};static#n=this.\u0275cmp=e.In1({type:Y,selectors:[["c-date-range-picker"]],contentQueries:function(S,M,Z){if(1&S&&e.szK(Z,H.i,5),2&S){let ee;e.wto(ee=e.Gqi())&&(M.contentTemplates=ee)}},viewQuery:function(S,M){if(1&S&&(e.CC$(y,5),e.CC$(R,5)),2&S){let Z;e.wto(Z=e.Gqi())&&(M.startDateElementRef=Z.first),e.wto(Z=e.Gqi())&&(M.endDateElementRef=Z.first)}},hostVars:2,hostBindings:function(S,M){1&S&&e.qCj("focusout",function(){return M.onBlur()}),2&S&&e.m8U(M.datePickerClasses)},inputs:{dayFormat:"dayFormat",calendars:"calendars",cleaner:"cleaner",closeOnSelect:"closeOnSelect",format:"format",indicator:"indicator",inputReadOnly:"inputReadOnly",navYearFirst:"navYearFirst",placeholder:"placeholder",ranges:"ranges",rangesButtonsColor:"rangesButtonsColor",rangesButtonsSize:"rangesButtonsSize",rangesButtonsVariant:"rangesButtonsVariant",separator:"separator",size:"size",timepicker:"timepicker",valid:"valid",visible:"visible",startDate:"startDate",endDate:"endDate",calendarDate:"calendarDate",disabledDates:"disabledDates",firstDayOfWeek:"firstDayOfWeek",locale:"locale",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",range:"range",dateFilter:"dateFilter",disabled:"disabled",value:"value",weekdayFormat:"weekdayFormat",popperjsOptions:[e.Wk5.None,"popperOptions","popperjsOptions"],selectAdjacentDays:"selectAdjacentDays",showAdjacentDays:"showAdjacentDays"},outputs:{valueChange:"valueChange",calendarCellHover:"calendarCellHover",calendarDateChange:"calendarDateChange",endDateChange:"endDateChange",startDateChange:"startDateChange"},exportAs:["cDateRangePicker"],standalone:!0,features:[e.M5G([{provide:m.Y6,useExisting:(0,e.wd)(()=>Y),multi:!0}]),e.SYr,e.UHJ],ngContentSelectors:Q,decls:15,vars:38,consts:[[1,"date-picker","picker",3,"autoClose","ngClass","visible","popperOptions","visibleChange"],["dropdown","cDropdown"],["cDropdownToggle","",1,"picker-input-group",3,"caret","disabled","sizing"],["cFormControl","","pattern","[1-9]*",3,"formControl","ngClass","placeholder","readonly","valid","change"],["startDateElementRef",""],["cInputGroupText",""],["cFormControl","","pattern","[1-9]*",3,"formControl","ngClass","placeholder","readonly","valid"],["cDropdownMenu",""],[1,"date-picker-body"],[1,"date-picker-calendars",3,"calendarDate","calendars","dateFilter","disabledDates","endDate","firstDayOfWeek","locale","maxDate","minDate","navigation","range","startDate","navYearFirst","dayFormat","weekdayFormat","selectAdjacentDays","showAdjacentDays","calendarCellHover","calendarDateChange","endDateChange","startDateChange"],["class","date-picker-timepickers"],["class","picker-footer"],[1,"picker-input-group-icon","date-picker-arrow-icon"],["endDateElementRef",""],["class","picker-input-group-indicator"],["class","picker-input-group-cleaner","role","button"],[1,"picker-input-group-indicator"],[1,"picker-input-group-icon","date-picker-input-icon"],["role","button",1,"picker-input-group-cleaner",3,"click"],[1,"picker-input-group-icon","date-picker-cleaner-icon"],["class","date-picker-ranges"],[1,"date-picker-ranges"],["cButton","",3,"color","size","variant","click"],["cButton","",3,"color","size","variant"],[1,"date-picker-timepickers"],["variant","select",3,"locale","disabled","time","timeChange"],["variant","select",3,"locale","disabled","time"],[1,"picker-footer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,M){if(1&S&&(e.kPM(),e.I0R(0,"c-dropdown",0,1),e.iHE("visibleChange",function(ee){return e.kNx(M.visible,ee)||(M.visible=ee),ee}),e.I0R(2,"c-input-group",2)(3,"input",3,4),e.qCj("change",function(ee){return M.handleStartDateInputChange(ee)}),e.C$Y(),e.yuY(5,B,2,0,"span",5)(6,$,2,8,"input",6)(7,me,3,2,"span",5),e.C$Y(),e.I0R(8,"div",7)(9,"div",8),e.yuY(10,O,1,1),e.I0R(11,"c-calendar",9),e.qCj("calendarCellHover",function(ee){return M.handleCalendarCellHover(ee)})("calendarDateChange",function(ee){return M.handleCalendarDateChange(ee)})("endDateChange",function(ee){return M.handleEndDateChange(ee)})("startDateChange",function(ee){return M.handleStartDateChange(ee)}),e.C$Y(),e.yuY(12,P,3,4,"div",10),e.C$Y(),e.yuY(13,de,2,4,"div",11),e.C$Y(),e._Xx(14),e.C$Y()),2&S){const Z=e.Gew(1);let ee,ge,ve;e.E7m("autoClose","outside")("ngClass",M.datePickerClasses),e.OKB("visible",M.visible),e.E7m("popperOptions",M.popperjsOptions),e.yG2(2),e.E7m("caret",!1)("disabled",null!==(ee=M.disabled)&&void 0!==ee?ee:Z.visible)("sizing",null!==(ge=M.size)&&void 0!==ge?ge:""),e.yG2(),e.E7m("formControl",M.startDateInput)("ngClass",e.S45(36,ie,!!M.inputStartHoverValue))("placeholder",M.startDatePlaceholder)("readonly",null!==(ve=M.inputReadOnly)&&void 0!==ve?ve:null)("valid",M.range?void 0:M.valid),e.e48("tabindex",M.disabled?-1:0),e.yG2(2),e.C0Y(5,M.range&&!1!==M.separator?5:-1),e.yG2(),e.C0Y(6,M.range?6:-1),e.yG2(),e.C0Y(7,M.indicator||M.cleaner?7:-1),e.yG2(3),e.C0Y(10,M.showRanges?-1:10),e.yG2(),e.E7m("calendarDate",M.calendarDate)("calendars",M.isMobile?1:M.calendars)("dateFilter",M.dateFilter)("disabledDates",M.disabledDates)("endDate",M.endDate)("firstDayOfWeek",M.firstDayOfWeek)("locale",M.locale)("maxDate",M.maxDate)("minDate",M.minDate)("navigation",M.navigation)("range",M.range)("startDate",M.startDate)("navYearFirst",M.navYearFirst)("dayFormat",M.dayFormat)("weekdayFormat",M.weekdayFormat)("selectAdjacentDays",M.selectAdjacentDays)("showAdjacentDays",M.showAdjacentDays),e.yG2(),e.C0Y(12,-1),e.yG2(),e.C0Y(13,null!=M.templates&&M.templates.datePickerFooter?13:-1)}},dependencies:[_.QF,_.XV,m.sl,m.ot,m.ue,m.E1,m.ug,C.m,w.g,v.A,x.iq,x.gT,L.S,U.W,ae.u,K.E,k.G],encapsulation:2})}return Y})()},8200:(te,V,l)=>{l.d(V,{s:()=>L});var e=l(1368),_=l(2252),m=l(4496);const I=["content"];function v(U,ae){1&U&&(m.I0R(0,"div",null,1),m._Xx(2),m.C$Y())}function b(U,ae){1&U&&m.wR5(0,"c-spinner",2)}const C=()=>({position:"absolute","top.%":"50","left.%":"50",transform:"translateX(-50%) translateY(-50%)"}),x=["*"];let L=(()=>{class U{constructor(K,H){this.elementRef=K,this.changeDetectorRef=H,this.opacity=.4,this.hasContent=!0}#e;get customBoundaries(){if(!this.boundaries||null===this.elementRef)return{};if(!this.#e)return{};const K=this.#e?.getBoundingClientRect(),H={};return this.boundaries.forEach(w=>{const k=this.#e?.querySelector(w.query);if(!k||!w.sides)return;const G=k.getBoundingClientRect();w.sides.forEach(y=>{const R=Math.abs(G[y]-K[y]);H[y]=`${R}px`})}),H}get containerCoords(){return{top:0,left:0,right:0,bottom:0,...this.customBoundaries}}get coverStyles(){return{...this.containerCoords,position:"absolute",backgroundColor:`rgb(255,255,255,${this.opacity})`}}ngAfterViewInit(){this.#e=this.elementRef.nativeElement.parentElement,this.hasContent=this.content?.nativeElement.childNodes.length??!1,this.changeDetectorRef.detectChanges()}static#t=this.\u0275fac=function(H){return new(H||U)(m.GI1(m.GMv),m.GI1(m.kD9))};static#i=this.\u0275cmp=m.In1({type:U,selectors:[["c-element-cover"],["","cElementCover",""]],viewQuery:function(H,w){if(1&H&&m.CC$(I,5),2&H){let k;m.wto(k=m.Gqi())&&(w.content=k.first)}},hostVars:2,hostBindings:function(H,w){2&H&&m.m_g(w.coverStyles)},inputs:{boundaries:"boundaries",opacity:"opacity"},standalone:!0,features:[m.UHJ],ngContentSelectors:x,decls:3,vars:3,consts:[[3,"ngStyle"],["content",""],["color","primary","variant","grow"]],template:function(H,w){1&H&&(m.kPM(),m.I0R(0,"div",0),m.yuY(1,v,3,0,"div")(2,b,1,0),m.C$Y()),2&H&&(m.E7m("ngStyle",m.q4q(2,C)),m.yG2(),m.C0Y(1,w.hasContent?1:2))},dependencies:[_.i,e.Qt],styles:["[_nghost-%COMP%]{display:block}"]})}return U})()},2464:(te,V,l)=>{l.d(V,{M:()=>m});var e=l(7712),_=l(4496);let m=(()=>{class I{set indeterminate(b){const C=(0,e.W6)(b);if(this._indeterminate!==C){this._indeterminate=C;const x=this.hostElement.nativeElement;C&&this.renderer.setProperty(x,"checked",!1),this.renderer.setProperty(x,"indeterminate",C)}}get indeterminate(){return this._indeterminate}get hostClasses(){return{"form-check-input":!0,"is-valid":!0===this.valid,"is-invalid":!1===this.valid}}set checked(b){const C=(0,e.W6)(b),x=this.hostElement?.nativeElement;x&&this.renderer.setProperty(x,"checked",C)}get checked(){return this.hostElement?.nativeElement?.checked}constructor(b,C){this.renderer=b,this.hostElement=C,this.type="checkbox",this._indeterminate=!1}static#e=this.\u0275fac=function(C){return new(C||I)(_.GI1(_.q87),_.GI1(_.GMv))};static#t=this.\u0275dir=_.Sc5({type:I,selectors:[["input","cFormCheckInput",""]],hostVars:3,hostBindings:function(C,x){2&C&&(_.e48("type",x.type),_.m8U(x.hostClasses))},inputs:{type:"type",indeterminate:"indeterminate",valid:"valid",checked:"checked"},standalone:!0})}return I})()},1500:(te,V,l)=>{l.d(V,{u:()=>_});var e=l(4496);let _=(()=>{class m{constructor(v){this.hostElement=v,this.sizing="",this.type="text",this.plaintext=!1}get hostClasses(){const v="range"===this.type;return{"form-control":!v&&!this.plaintext,"form-control-plaintext":!v&&this.plaintext,"form-control-color":"color"===this.type,"form-range":v,[`form-control-${this.sizing}`]:!!this.sizing&&!v,"is-valid":!0===this.valid,"is-invalid":!1===this.valid}}get hostTag(){return this.hostElement.nativeElement.tagName}ngOnInit(){const v=this.hostTag.toLowerCase();"input"!==v&&"textarea"!==v&&console.warn(`CoreUI [cFormControl] works with '<input>' and '<textarea>' - not with '<${v}>'`)}static#e=this.\u0275fac=function(b){return new(b||m)(e.GI1(e.GMv))};static#t=this.\u0275dir=e.Sc5({type:m,selectors:[["input","cFormControl",""],["textarea","cFormControl",""]],hostVars:3,hostBindings:function(b,C){2&b&&(e.e48("type",C.type),e.m8U(C.hostClasses))},inputs:{sizing:"sizing",valid:"valid",type:"type",plaintext:[e.Wk5.HasDecoratorInputTransform,"plaintext","plaintext",e.cZD]},standalone:!0,features:[e.QJr]})}return m})()},3560:(te,V,l)=>{l.d(V,{c:()=>_});var e=l(4496);let _=(()=>{class m{get hostClasses(){return{"form-label":!0,"col-form-label":"col"===this.col,[`col-form-label-${this.sizing}`]:!!this.sizing&&"col"===this.col}}constructor(){this.col="",this.sizing=""}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275dir=e.Sc5({type:m,selectors:[["","cLabel",""]],hostVars:2,hostBindings:function(b,C){2&b&&e.m8U(C.hostClasses)},inputs:{col:[e.Wk5.None,"cLabel","col"],sizing:"sizing"},standalone:!0})}return m})()},9656:(te,V,l)=>{l.d(V,{S:()=>_});var e=l(4496);let _=(()=>{class m{get hostClasses(){return{"form-select":!0,[`form-select-${this.sizing}`]:!!this.sizing,"is-valid":!0===this.valid,"is-invalid":!1===this.valid}}constructor(){this.sizing=""}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275dir=e.Sc5({type:m,selectors:[["select","cSelect",""]],hostVars:2,hostBindings:function(b,C){2&b&&e.m8U(C.hostClasses)},inputs:{sizing:"sizing",valid:"valid"},standalone:!0})}return m})()},3400:(te,V,l)=>{l.d(V,{E:()=>_});var e=l(4496);let _=(()=>{class m{get hostClasses(){return{"input-group-text":!0}}constructor(){}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275dir=e.Sc5({type:m,selectors:[["","cInputGroupText",""]],hostVars:2,hostBindings:function(b,C){2&b&&e.m8U(C.hostClasses)},standalone:!0})}return m})()},9568:(te,V,l)=>{l.d(V,{W:()=>m});var e=l(4496);const _=["*"];let m=(()=>{class I{get hostClasses(){return{"input-group":!0,[`input-group-${this.sizing}`]:!!this.sizing}}constructor(){this.sizing=""}static#e=this.\u0275fac=function(C){return new(C||I)};static#t=this.\u0275cmp=e.In1({type:I,selectors:[["c-input-group"]],hostVars:2,hostBindings:function(C,x){2&C&&e.m8U(x.hostClasses)},inputs:{sizing:"sizing"},standalone:!0,features:[e.UHJ],ngContentSelectors:_,decls:1,vars:0,template:function(C,x){1&C&&(e.kPM(),e._Xx(0))},encapsulation:2})}return I})()},5476:(te,V,l)=>{l.d(V,{S:()=>I});var e=l(7712),_=l(2640),m=l(4496);let I=(()=>{class v{constructor(){this._xs=!1,this._sm=!1,this._md=!1,this._lg=!1,this._xl=!1,this._xxl=!1}set cCol(C){this.xs=this.xs||this.coerceInput(C)}set xs(C){this._xs=this.coerceInput(C)}get xs(){return this._xs}set sm(C){this._sm=this.coerceInput(C)}get sm(){return this._sm}set md(C){this._md=this.coerceInput(C)}get md(){return this._md}set lg(C){this._lg=this.coerceInput(C)}get lg(){return this._lg}set xl(C){this._xl=this.coerceInput(C)}get xl(){return this._xl}set xxl(C){this._xxl=this.coerceInput(C)}get xxl(){return this._xxl}get hostClasses(){const C={col:!0};if(Object.keys(_.Y).forEach(x=>{const L=this[x],U="xs"===x?"":`-${x}`;C[`col${U}`]=!0===L,C[`col${U}-${L}`]="number"==typeof L||"string"==typeof L}),"object"==typeof this.offset){const x={...this.offset};Object.entries(x).forEach(L=>{const[U,ae]=[...L];C[`offset${"xs"===U?"":`-${U}`}-${ae}`]=ae>=0&&ae<=11})}else C[`offset-${this.offset}`]="number"==typeof this.offset&&this.offset>0&&this.offset<=11;if("object"==typeof this.order){const x={...this.order};Object.entries(x).forEach(L=>{const[U,ae]=[...L];C[`order${"xs"===U?"":`-${U}`}-${ae}`]=ae})}else C[`order-${this.order}`]=!!this.order;return C.col=!Object.entries(C).filter(x=>x[0].startsWith("col-")&&x[1]).length||!0===this.xs,C}coerceInput(C){return"auto"===C?C:""===C||null==C?(0,e.W6)(C):"boolean"==typeof C?C:(0,e.wZ)(C)}static#e=this.\u0275fac=function(x){return new(x||v)};static#t=this.\u0275dir=m.Sc5({type:v,selectors:[["","cCol",""]],hostVars:2,hostBindings:function(x,L){2&x&&m.m8U(L.hostClasses)},inputs:{cCol:"cCol",xs:"xs",sm:"sm",md:"md",lg:"lg",xl:"xl",xxl:"xxl",offset:"offset",order:"order"},standalone:!0})}return v})()},840:(te,V,l)=>{l.d(V,{O:()=>ae});var e=l(4496),_=l(4872),m=l(9212),I=l(4e3),v=l(6684),b=l(4185),C=l(7003);const x=["contentDiv"];function L(K,H){if(1&K&&(e.I0R(0,"div"),e.OEk(1),e.C$Y()),2&K){const w=e.GaO();let k;e.yG2(),e.oRS(" ",null!==(k=null!==(k=w.text)&&void 0!==k?k:w.label)&&void 0!==k?k:null==w.value?null:w.value.toString()," ")}}const U=["*"];let ae=(()=>{class K{#e;#t;constructor(w,k,G,y){this.elementRef=w,this.changeDetectorRef=k,this.focusMonitor=G,this.multiSelectService=y,this.#e=(0,e.uUt)(e.eM9),this.#t=(0,e.uUt)(e.WW2),this.optionsStyle=this.multiSelectService.optionsStyle??"checkbox",this.#i=(0,e.OCB)(!0),this.disabled=!1,this.#s=(0,e.OCB)(void 0),this.selectedChange=new e._w7,this.#n=(0,e.OCB)(void 0),this.hasContent=(0,e.OCB)(!0),this.#r=(0,e.OCB)(!1),this.#a=(0,e.OCB)(!1),this.#l=!1,this.focusChange=new e._w7,this.#o=(0,e.S6b)(()=>this.#a()&&this.#i()?0:-1),this.#c=(0,e.S6b)(()=>{const R=this.#n(),B=this.#s();return void 0!==R&&void 0!==B&&(B?this.multiSelectService.selectionModel?.select(R):this.multiSelectService.selectionModel?.deselect(R),this.selectedChange.emit(B),this.changeDetectorRef.markForCheck()),B})}set visible(w){this.#i.set(w)}get visible(){return this.#i()}#i;set selected(w){if(void 0!==w){const k=(0,e.cZD)(w);this.#s()!==k&&(this.#s.set(k),void 0!==this.value&&(k?this.multiSelectService.selectionModel?.select(this.value):this.multiSelectService.selectionModel?.deselect(this.value)))}}get selected(){return this.#s()}#s;set value(w){this.#n()!==w&&this.#n.set(w)}get value(){return this.#n()}#n;#r;set active(w){const k=w&&this.#i()&&!this.disabled;this.#a()!==k&&this.#a.set(k)}get active(){return this.#a()&&this.#i()}#a;#l;get role(){return"option"}get hostClasses(){return{"form-multi-select-option":!0,"form-multi-selected":this.#s(),[`form-multi-select-option-with-${this.optionsStyle}`]:!!this.optionsStyle,disabled:this.disabled,"d-none":!this.#i(),active:this.#a(),focused:this.#l}}get tabIndex(){return this.disabled||!this.#i()?-1:this.#o()}#o;get ariaDisabled(){return this.disabled||null}get ariaSelected(){return this.#c()??!1}#c;onKeyDown(w){["Space"].includes(w.code)&&w.preventDefault(),["Tab"].includes(w.code)&&w.preventDefault()}onBlur(){this.#l=!1}onFocus(){this.#l=!0}onKeyUp(w){this.#r()&&["Enter","Space"].includes(w.code)&&(w.stopImmediatePropagation(),w.preventDefault(),this.selected=this.disabled?this.#s():!this.#s(),this.focus("keyboard"))}onClick(w){w.stopPropagation(),this.selected=this.disabled?this.#s():!this.#s(),this.focus("mouse")}ngAfterViewInit(){this.setSubscriptions();const w=!!this.contentDiv?.nativeElement.childNodes.length;if(w||this.#t.runOutsideAngular(()=>{setTimeout(()=>{this.hasContent.set(w)})}),void 0===this.text){const k=this.elementRef.nativeElement.textContent.trim()||this.elementRef.nativeElement.innerText.trim();this.text=k||this.value?.toString().trim()}void 0===this.label&&(this.label=this.text?.trim()),void 0===this.value&&(this.value=this.label?.trim()||"..."),this.changeDetectorRef.destroyed||(this.selected=this.isSelected(this.value),this.changeDetectorRef.markForCheck())}getLabel(){return this.label??this.value}focus(w="program"){this.#r()&&!this.disabled&&(this.focusMonitor.focusVia(this.elementRef.nativeElement,w,{preventScroll:!1}),this.multiSelectService.focusChange(this),this.changeDetectorRef.markForCheck(),this.focusChange.emit(this))}setSubscriptions(){this.multiSelectService.multiSelectVisible$.pipe((0,m.y)(w=>{this.#r.set(w)}),(0,_.ay)(this.#e)).subscribe(),this.multiSelectService.multiSelectFocus$.pipe((0,I.a)(),(0,v.I)(w=>this.active!==(this.value===w.value)),(0,m.y)(w=>{this.active=this.value===w.value,this.changeDetectorRef.markForCheck()}),(0,_.ay)(this.#e)).subscribe(),this.changeDetectorRef.destroyed||this.multiSelectService.selectionModel.changed.pipe((0,v.I)(w=>w.added.includes(this.value)||w.removed.includes(this.value)),(0,m.y)(w=>{this.selected=w.added.includes(this.value),this.changeDetectorRef.markForCheck()}),(0,_.ay)(this.#e)).subscribe()}isSelected(w=this.value){return(this.#s()||this.multiSelectService.selectionModel?.isSelected(w))??!1}static#d=this.\u0275fac=function(k){return new(k||K)(e.GI1(e.GMv),e.GI1(e.kD9),e.GI1(b.Kk),e.GI1(C.w))};static#h=this.\u0275cmp=e.In1({type:K,selectors:[["c-multi-select-option"]],viewQuery:function(k,G){if(1&k&&e.CC$(x,5),2&k){let y;e.wto(y=e.Gqi())&&(G.contentDiv=y.first)}},hostVars:7,hostBindings:function(k,G){1&k&&e.qCj("keydown",function(R){return G.onKeyDown(R)})("blur",function(){return G.onBlur()})("focus",function(){return G.onFocus()})("keyup",function(R){return G.onKeyUp(R)})("click",function(R){return G.onClick(R)}),2&k&&(e.SoX("role",G.role),e.e48("tabindex",G.tabIndex)("disabled",G.ariaDisabled)("aria-disabled",G.ariaDisabled)("aria-selected",G.ariaSelected),e.m8U(G.hostClasses))},inputs:{optionsStyle:"optionsStyle",label:"label",text:"text",visible:[e.Wk5.HasDecoratorInputTransform,"visible","visible",e.cZD],disabled:[e.Wk5.HasDecoratorInputTransform,"disabled","disabled",e.cZD],selected:"selected",value:"value",active:[e.Wk5.HasDecoratorInputTransform,"active","active",e.cZD],role:"role"},outputs:{selectedChange:"selectedChange",focusChange:"focusChange"},exportAs:["cMultiSelectOption"],standalone:!0,features:[e.QJr,e.UHJ],ngContentSelectors:U,decls:4,vars:1,consts:[["contentDiv",""]],template:function(k,G){1&k&&(e.kPM(),e.I0R(0,"div",null,0),e._Xx(2),e.C$Y(),e.yuY(3,L,2,1,"div")),2&k&&(e.yG2(3),e.C0Y(3,G.hasContent()?-1:3))},styles:["[_nghost-%COMP%]{display:block;-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden}.active[_nghost-%COMP%]{border-radius:var(--cui-form-multi-select-option-indicator-border-radius, .375rem);box-shadow:0 0 .125rem 0 var(--cui-gray-400)}.focused[_nghost-%COMP%], [_nghost-%COMP%]   [_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .125rem #321fdb40;outline:none}.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--cui-form-multi-select-option-indicator-bg: var(--cui-bg-secondary)}"],changeDetection:0})}return K})()},2892:(te,V,l)=>{l.d(V,{a:()=>I});var e=l(7003),_=l(7836),m=l(4496);let I=(()=>{class v{static#e=this.\u0275fac=function(x){return new(x||v)};static#t=this.\u0275mod=m.a4G({type:v});static#i=this.\u0275inj=m.s3X({providers:[e.w],imports:[_.C]})}return v})()},7003:(te,V,l)=>{l.d(V,{w:()=>v});var e=l(4496),_=l(3412),m=l(6700),I=l(5657);let v=(()=>{class b{constructor(){this.optionsStyle="checkbox",this.multiSelectVisible=new m.g(!1),this.multiSelectVisible$=this.multiSelectVisible.asObservable(),this.multiSelectFocus=new I.E,this.multiSelectFocus$=this.multiSelectFocus.asObservable(),this.userOptionsSignal=(0,e.OCB)([]),this.optionsArray=new m.g([]),this.optionsArray$=this.optionsArray.asObservable()}setSelectionModel(x=!0,L=[]){this.selectionModel=new _.e2(x)}toggleVisible(x){this.multiSelectVisible.next(x)}focusChange(x){this.multiSelectFocus.next(x)}getUserOptions(){return(0,e.S6b)(this.userOptionsSignal)}addUserOption(x){this.userOptionsSignal.update(L=>[...L,x])}removeUserOption(x){const L=this.userOptionsSignal().filter(U=>U.value!==x);this.userOptionsSignal.set(L)}removeAllUserOptions(){this.userOptionsSignal.set([])}getOptionsArray(){return this.optionsArray$}updateOptionsArray(x){this.optionsArray.next(x)}static#e=this.\u0275fac=function(L){return new(L||b)};static#t=this.\u0275prov=e.wxM({token:b,factory:b.\u0275fac})}return b})()},7836:(te,V,l)=>{l.d(V,{C:()=>ei});var e=l(4496),_=l(4872),m=l(1368),I=l(4716),v=l(4185),b=l(7712),C=l(5657),x=l(2700),L=l(3252),U=l(800),ae=l(1364),K=l(6928);const H={schedule(r){let h=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=H;i&&(h=i.requestAnimationFrame,t=i.cancelAnimationFrame);const a=h(o=>{t=void 0,r(o)});return new K.wH(()=>t?.(a))},requestAnimationFrame(...r){const{delegate:h}=H;return(h?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:h}=H;return(h?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var k=l(9816);const y=new class G extends k.k{flush(h){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let a;h=h||i.shift();do{if(a=h.execute(h.state,h.delay))break}while((h=i[0])&&h.id===t&&i.shift());if(this._active=!1,a){for(;(h=i[0])&&h.id===t&&i.shift();)h.unsubscribe();throw a}}}(class w extends ae.m{constructor(h,t){super(h,t),this.scheduler=h,this.work=t}requestAsyncId(h,t,i=0){return null!==i&&i>0?super.requestAsyncId(h,t,i):(h.actions.push(this),h._scheduled||(h._scheduled=H.requestAnimationFrame(()=>h.flush(void 0))))}recycleAsyncId(h,t,i=0){var a;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(h,t,i);const{actions:o}=h;null!=t&&(null===(a=o[o.length-1])||void 0===a?void 0:a.id)!==t&&(H.cancelAnimationFrame(t),h._scheduled=void 0)}});let ie,B=1;const $={};function se(r){return r in $&&(delete $[r],!0)}const he={setImmediate(r){const h=B++;return $[h]=!0,ie||(ie=Promise.resolve()),ie.then(()=>se(h)&&r()),h},clearImmediate(r){se(r)}},{setImmediate:ce,clearImmediate:ue}=he,O={setImmediate(...r){const{delegate:h}=O;return(h?.setImmediate||ce)(...r)},clearImmediate(r){const{delegate:h}=O;return(h?.clearImmediate||ue)(r)},delegate:void 0},j=new class P extends k.k{flush(h){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let a;h=h||i.shift();do{if(a=h.execute(h.state,h.delay))break}while((h=i[0])&&h.id===t&&i.shift());if(this._active=!1,a){for(;(h=i[0])&&h.id===t&&i.shift();)h.unsubscribe();throw a}}}(class E extends ae.m{constructor(h,t){super(h,t),this.scheduler=h,this.work=t}requestAsyncId(h,t,i=0){return null!==i&&i>0?super.requestAsyncId(h,t,i):(h.actions.push(this),h._scheduled||(h._scheduled=O.setImmediate(h.flush.bind(h,void 0))))}recycleAsyncId(h,t,i=0){var a;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(h,t,i);const{actions:o}=h;null!=t&&(null===(a=o[o.length-1])||void 0===a?void 0:a.id)!==t&&(O.clearImmediate(t),h._scheduled===t&&(h._scheduled=void 0))}});var de=l(1116),Q=l(4e3),fe=l(112),Y=l(5448),le=l(560),d=l(7773),M=l(4548);function Z(r,h=fe.M){return function S(r){return(0,Y.i)((h,t)=>{let i=!1,a=null,o=null,T=!1;const q=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const J=a;a=null,t.next(J)}T&&t.complete()},z=()=>{o=null,T&&t.complete()};h.subscribe((0,d.e)(t,J=>{i=!0,a=J,o||(0,le.Uv)(r(J)).subscribe(o=(0,d.e)(t,q,z))},()=>{T=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>(0,M.k)(r,h))}var ee=l(6684),ge=l(3616),ve=l(5568),X=l(7368),n=l(7824),c=l(5792);const D=new e.UbH("cdk-dir-doc",{providedIn:"root",factory:function F(){return(0,e.uUt)(m.Ud)}}),re=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pe=(()=>{class r{constructor(t){this.value="ltr",this.change=new e._w7,t&&(this.value=function ne(r){const h=r?.toLowerCase()||"";return"auto"===h&&typeof navigator<"u"&&navigator?.language?re.test(navigator.language)?"rtl":"ltr":"rtl"===h?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||r)(e.CoB(D,8))};static#t=this.\u0275prov=e.wxM({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ye=l(3412);const we=["contentWrapper"],Fe=["*"],Ee=new e.UbH("VIRTUAL_SCROLL_STRATEGY");class Ae{constructor(h,t,i){this._scrolledIndexChange=new C.E,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Q.a)()),this._viewport=null,this._itemSize=h,this._minBufferPx=t,this._maxBufferPx=i}attach(h){this._viewport=h,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(h,t,i){this._itemSize=h,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(h,t){this._viewport&&this._viewport.scrollToOffset(h*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const h=this._viewport.getRenderedRange(),t={start:h.start,end:h.end},i=this._viewport.getViewportSize(),a=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),T=this._itemSize>0?o/this._itemSize:0;if(t.end>a){const z=Math.ceil(i/this._itemSize),J=Math.max(0,Math.min(T,a-z));T!=J&&(T=J,o=J*this._itemSize,t.start=Math.floor(T)),t.end=Math.max(0,Math.min(a,t.start+z))}const q=o-t.start*this._itemSize;if(q<this._minBufferPx&&0!=t.start){const z=Math.ceil((this._maxBufferPx-q)/this._itemSize);t.start=Math.max(0,t.start-z),t.end=Math.min(a,Math.ceil(T+(i+this._minBufferPx)/this._itemSize))}else{const z=t.end*this._itemSize-(o+i);if(z<this._minBufferPx&&t.end!=a){const J=Math.ceil((this._maxBufferPx-z)/this._itemSize);J>0&&(t.end=Math.min(a,t.end+J),t.start=Math.max(0,Math.floor(T-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(T))}}function Ge(r){return r._scrollStrategy}let Ve=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Ae(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=(0,b.wZ)(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=(0,b.wZ)(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=(0,b.wZ)(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275dir=e.Sc5({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[e.M5G([{provide:Ee,useFactory:Ge,deps:[(0,e.wd)(()=>r)]}]),e.SYr]})}return r})(),f=(()=>{class r{constructor(t,i,a){this._ngZone=t,this._platform=i,this._scrolled=new C.E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new L._(i=>{this._globalSubscription||this._addGlobalListener();const a=t>0?this._scrolled.pipe(Z(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,x.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const a=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,ee.I)(o=>!o||a.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((a,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let a=(0,b.mk)(i),o=t.getElementRef().nativeElement;do{if(a==o)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,U.w)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||r)(e.CoB(e.WW2),e.CoB(c.WU),e.CoB(m.Ud,8))};static#t=this.\u0275prov=e.wxM({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),W=(()=>{class r{constructor(t,i,a,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=a,this.dir=o,this._destroyed=new C.E,this._elementScrolled=new L._(T=>this.ngZone.runOutsideAngular(()=>(0,U.w)(this.elementRef.nativeElement,"scroll").pipe((0,ge.a)(this._destroyed)).subscribe(T)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=a?t.end:t.start),null==t.right&&(t.right=a?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),a&&(0,c.Ml)()!=c.Av.NORMAL?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),(0,c.Ml)()==c.Av.INVERTED?t.left=t.right:(0,c.Ml)()==c.Av.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;(0,c.kk)()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",a="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const T=this.dir&&"rtl"==this.dir.value;return"start"==t?t=T?a:i:"end"==t&&(t=T?i:a),T&&(0,c.Ml)()==c.Av.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:T&&(0,c.Ml)()==c.Av.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.GMv),e.GI1(f),e.GI1(e.WW2),e.GI1(pe,8))};static#t=this.\u0275dir=e.Sc5({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return r})(),u=(()=>{class r{constructor(t,i,a){this._platform=t,this._change=new C.E,this._changeListener=o=>{this._change.next(o)},this._document=a,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+a,right:t.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),a=t.documentElement,o=a.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||a.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||a.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Z(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||r)(e.CoB(c.WU),e.CoB(e.WW2),e.CoB(m.Ud,8))};static#t=this.\u0275prov=e.wxM({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const g=new e.UbH("VIRTUAL_SCROLLABLE");let A=(()=>{class r extends W{constructor(t,i,a,o){super(t,i,a,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}static#e=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.GMv),e.GI1(f),e.GI1(e.WW2),e.GI1(pe,8))};static#t=this.\u0275dir=e.Sc5({type:r,features:[e.eg9]})}return r})();const _e=typeof requestAnimationFrame<"u"?y:j;let Oe=(()=>{class r extends A{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}constructor(t,i,a,o,T,q,z,J){super(t,q,a,T),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=J,this._platform=(0,e.uUt)(c.WU),this._detachedSubject=new C.E,this._renderedRangeSubject=new C.E,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new L._(Te=>this._scrollStrategy.scrolledIndexChange.subscribe(Ue=>Promise.resolve().then(()=>this.ngZone.run(()=>Te.next(Ue))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=K.wH.EMPTY,this._viewportChanges=z.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,ve.W)(null),Z(0,_e),(0,ge.a)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe((0,ge.a)(this._detachedSubject)).subscribe(i=>{const a=i.length;a!==this._dataLength&&(this._dataLength=a,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function oe(r,h){return r.start==h.start&&r.end==h.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,T=o?"X":"Y";let z=`translate${T}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(z+=` translate${T}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=z&&(this._renderedContentTransform=z,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const a={behavior:i};"horizontal"===this.orientation?a.start=t:a.top=t,this.scrollable.scrollTo(a)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?a=>super.measureScrollOffset(a):a=>this.scrollable.measureScrollOffset(a),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const a="left",o="right",T="rtl"==this.dir?.value;i="start"==t?T?o:a:"end"==t?T?a:o:t||("horizontal"===this.orientation?"left":"top");const q=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-q}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.GMv),e.GI1(e.kD9),e.GI1(e.WW2),e.GI1(Ee,8),e.GI1(pe,8),e.GI1(f),e.GI1(u),e.GI1(g,8))};static#t=this.\u0275cmp=e.In1({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,a){if(1&i&&e.CC$(we,7),2&i){let o;e.wto(o=e.Gqi())&&(a._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,a){2&i&&e.eAK("cdk-virtual-scroll-orientation-horizontal","horizontal"===a.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==a.orientation)},inputs:{orientation:"orientation",appendOnly:[e.Wk5.HasDecoratorInputTransform,"appendOnly","appendOnly",e.cZD]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[e.M5G([{provide:W,useFactory:(t,i)=>t||i,deps:[[new e.T7N,new e.y_5(g)],r]}]),e.QJr,e.eg9,e.UHJ],ngContentSelectors:Fe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(i,a){1&i&&(e.kPM(),e.I0R(0,"div",0,1),e._Xx(2),e.C$Y(),e.wR5(3,"div",2)),2&i&&(e.yG2(3),e.m4B("width",a._totalContentWidth)("height",a._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return r})();function Me(r,h,t){if(!t.getBoundingClientRect)return 0;const a=t.getBoundingClientRect();return"horizontal"===r?"start"===h?a.left:a.right:"start"===h?a.top:a.bottom}let Se=(()=>{class r{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,(0,ye.cz)(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new ye.C_((0,de.X)(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,a)=>t(i+(this._renderedRange?this._renderedRange.start:0),a):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=(0,b.wZ)(t)}constructor(t,i,a,o,T,q){this._viewContainerRef=t,this._template=i,this._differs=a,this._viewRepeater=o,this._viewport=T,this.viewChange=new C.E,this._dataSourceChanges=new C.E,this.dataStream=this._dataSourceChanges.pipe((0,ve.W)(null),function p(){return(0,Y.i)((r,h)=>{let t,i=!1;r.subscribe((0,d.e)(h,a=>{const o=t;t=a,i&&h.next([o,a]),i=!0}))})}(),(0,X.G)(([z,J])=>this._changeDataSource(z,J)),(0,n.C)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new C.E,this.dataStream.subscribe(z=>{this._data=z,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,ge.a)(this._destroyed)).subscribe(z=>{this._renderedRange=z,this.viewChange.observers.length&&q.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,i){if(t.start>=t.end)return 0;const a=t.start-this._renderedRange.start,o=t.end-t.start;let T,q;for(let z=0;z<o;z++){const J=this._viewContainerRef.get(z+a);if(J&&J.rootNodes.length){T=q=J.rootNodes[0];break}}for(let z=o-1;z>-1;z--){const J=this._viewContainerRef.get(z+a);if(J&&J.rootNodes.length){q=J.rootNodes[J.rootNodes.length-1];break}}return T&&q?Me(i,"end",q)-Me(i,"start",T):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):(0,x.of)()}_updateContext(){const t=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=t,this._updateComputedContextProperties(a.context),a.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,T,q)=>this._getEmbeddedViewArgs(o,q),o=>o.item),t.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let a=this._viewContainerRef.length;for(;a--;){const o=this._viewContainerRef.get(a);o.context.index=this._renderedRange.start+a,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}static#e=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.y8U),e.GI1(e.Yw2),e.GI1(e.Uj7),e.GI1(ye.ys),e.GI1(Oe,4),e.GI1(e.WW2))};static#t=this.\u0275dir=e.Sc5({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[e.M5G([{provide:ye.ys,useClass:ye.Yx}])]})}return r})();var ke=l(6700),Xe=l(2644),qe=l(7228),xe=l(3992),et=l(308),it=l(320),nt=l(7400);function He(r,h){return h?t=>(0,qe.W)(h.pipe((0,xe.U)(1),function tt(){return(0,Y.i)((r,h)=>{r.subscribe((0,d.e)(h,et.K))})}()),t.pipe(He(r))):(0,nt.O)((t,i)=>(0,le.Uv)(r(t,i)).pipe((0,xe.U)(1),(0,it.e)(t)))}function Ye(r,h=fe.M){const t=(0,M.k)(r,h);return He(()=>t)}var Ce=l(9212),st=l(6040),at=l(2368),rt=l(4187),lt=l(3928),ot=l(6624);function Ke(...r){const h=(0,ot.yu)(r);return h?(0,lt.W)(Ke(...r),(0,rt.j)(h)):(0,Y.i)((t,i)=>{(0,st.I)([t,...(0,at.S)(r)])(i)})}function je(...r){return Ke(...r)}var Re=l(4680),Ie=l(4704),Pe=l(3500),ct=l(920),dt=l(8200),ht=l(7968),We=l(7003),Le=l(840);function ut(r,h){if(1&r&&e.wR5(0,"option",1),2&r){const t=h.$implicit,i=e.GaO();e.E7m("disabled",i.disabled)("label",t.label)("value",t.value),e.e48("selected",t.selected?"":null)}}let mt=(()=>{class r{constructor(t){this.changeDetectorRef=t,this.form="",this.id=""}static#e=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:r,selectors:[["c-multi-select-native-select"]],inputs:{form:"form",id:"id",multiple:"multiple",name:"name",options:"options",disabled:"disabled"},standalone:!0,features:[e.UHJ],decls:3,vars:4,consts:[["tabindex","-1",2,"display","none",3,"disabled","id","multiple","name"],["tabindex","-1",3,"disabled","label","value"]],template:function(i,a){1&i&&(e.I0R(0,"select",0),e.c53(1,ut,1,4,"option",1,e.oxv),e.C$Y()),2&i&&(e.E7m("disabled",a.disabled)("id",a.id)("multiple",a.multiple)("name",a.name),e.yG2(),e.oho(a.options))},styles:["[_nghost-%COMP%]{display:none}"],changeDetection:0})}return r})();function ft(r,h){if(1&r){const t=e.KQA();e.I0R(0,"button",2),e.qCj("click",function(a){e.usT(t);const o=e.GaO();return e.CGJ(o.handleRemove(a))}),e.I0R(1,"span",3),e.OEk(2,"\xd7"),e.C$Y()()}if(2&r){const t=e.GaO();let i;e.E7m("disabled",!1===(null===(i=t.multiselectVisible())||void 0===i||i))}}let _t=(()=>{class r{constructor(){this.#e=(0,e.uUt)(We.w),this.multiselectVisible=(0,_.i6)(this.#e.multiSelectVisible$),this.disabled=!0,this.remove=new e._w7}#e;get hostClasses(){return{"form-multi-select-tag":!0}}handleRemove(t){t.stopPropagation(),this.value&&this.remove.emit(this.value)}static#t=this.\u0275fac=function(i){return new(i||r)};static#i=this.\u0275cmp=e.In1({type:r,selectors:[["c-multi-select-tag"]],hostVars:2,hostBindings:function(i,a){2&i&&e.m8U(a.hostClasses)},inputs:{option:"option",disabled:"disabled",label:"label",value:"value"},outputs:{remove:"remove"},standalone:!0,features:[e.UHJ],decls:3,vars:2,consts:[[1,"text-truncate"],["aria-label","Clear","class","form-multi-select-tag-delete close","type","button",3,"disabled"],["aria-label","Clear","type","button",1,"form-multi-select-tag-delete","close",3,"disabled","click"],["aria-hidden","true"]],template:function(i,a){if(1&i&&(e.I0R(0,"span",0),e.OEk(1),e.C$Y(),e.yuY(2,ft,3,1,"button",1)),2&i){let o;e.yG2(),e.cNF(null!==(o=null!==(o=a.label)&&void 0!==o?o:null==a.value?null:a.value.toString())&&void 0!==o?o:"???"),e.yG2(),e.C0Y(2,a.disabled?-1:2)}},styles:["[_nghost-%COMP%]   .btn-xs[_ngcontent-%COMP%]{padding-left:.125rem;padding-right:.125rem;font-size:.575rem;border-radius:.2rem}.form-multi-select-tag[_nghost-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:all;align-items:center;display:flex}"],changeDetection:0})}return r})(),pt=(()=>{class r{constructor(t,i){this.elementRef=t,this.destroyRef=i,this.#e=new ke.g(""),this.#i="",this.delay=300,this.valueChange=new e._w7}#e;#t;#i;set value(t){this.#e.next(t)}ngAfterViewInit(){this.setSubscription()}setSubscription(){this.#e.pipe((0,Q.a)(),(0,_.ay)(this.destroyRef)).subscribe(t=>{this.#i!==t&&(this.#i=t,this.valueChange.emit(t))}),this.#t=(0,U.w)(this.elementRef.nativeElement,"input").pipe((0,Re.o)(this.delay),(0,Ie.k)(t=>t.target.value),(0,_.ay)(this.destroyRef)),this.#t.pipe((0,_.ay)(this.destroyRef)).subscribe(t=>{t!==this.#i&&this.#e.next(t)})}static#s=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.GMv),e.GI1(e.eM9))};static#n=this.\u0275dir=e.Sc5({type:r,selectors:[["","cMultiSelectSearch",""]],inputs:{delay:"delay",value:"value"},outputs:{valueChange:"valueChange"},exportAs:["cMultiSelectSearch"],standalone:!0})}return r})();const gt=["options"],Ct=["inputElement"],vt=["dropdownMenu"],Dt=["scrollViewport"],Ne=(r,h)=>h.value;function yt(r,h){if(1&r){const t=e.KQA();e.I0R(0,"c-multi-select-tag",13),e.qCj("remove",function(a){e.usT(t);const o=e.GaO(3);return e.CGJ(o.handleTagRemove(a))}),e.C$Y()}if(2&r){const t=h.$implicit;let i,a;e.E7m("disabled",null!==(i=t.disabled)&&void 0!==i&&i)("label",null!==(a=t.label)&&void 0!==a?a:null==t.value?null:t.value.toString())("option",t)("value",t.value)}}function bt(r,h){1&r&&e.c53(0,yt,1,4,"c-multi-select-tag",14,Ne),2&r&&e.oho(h)}function St(r,h){if(1&r&&(e.yuY(0,bt,2,0),e.wVc(1,"async")),2&r){const t=e.GaO();let i;e.C0Y(0,(i=e.kDX(1,1,t.optionsSelected$))?0:-1,i)}}function Ot(r,h){if(1&r&&(e.I0R(0,"span",15),e.OEk(1),e.C$Y()),2&r){const t=h.$implicit,i=h.$index,a=h.$count;e.yG2(),e.CAO("",t.label,"",i===a-1?"\xa0":",\xa0","")}}function Tt(r,h){if(1&r&&e.c53(0,Ot,2,2,"span",16,Ne),2&r){const t=e.GaO();e.oho(t.selectedOptions)}}function wt(r,h){if(1&r&&(e.I0R(0,"span",17),e.OEk(1),e.C$Y()),2&r){const t=e.GaO();e.yG2(),e.oRS(" ",0===t.optionsSelected.size?t.placeholder:t.counterPlaceholderText," ")}}const Et=(r,h)=>({"form-multi-select-search":!0,disabled:r,"text-truncate":!0,"ms-1":h});function Mt(r,h){if(1&r){const t=e.KQA();e.I0R(0,"input",18,19),e.qCj("keydown",function(a){e.usT(t);const o=e.GaO();return e.CGJ(o.handleSearchKeyDown(a))})("valueChange",function(a){e.usT(t);const o=e.GaO();return e.CGJ(o.handleSearchValueChange(a))}),e.C$Y()}if(2&r){const t=e.GaO();e._6D("tabindex",t.disabled?-1:0),e.E7m("disabled",t.disabled||!t.search)("ngClass",e.IBC(6,Et,t.disabled||!t.search,"tags"===t.selectionType&&t.selectedOptions.length>0))("ngModel",t.searchValue)("value",t.searchValue),e.e48("placeholder",0===t.selectedOptions.length?t.placeholder:t.counterPlaceholderText)}}function kt(r,h){if(1&r){const t=e.KQA();e.I0R(0,"button",20),e.qCj("click",function(a){e.usT(t);const o=e.GaO();return e.CGJ(o.clearAllOptions(a))}),e.C$Y()}if(2&r){const t=e.GaO();e.E7m("disabled",t.disabled||!t.isDropdownVisible&&"active"!==t.cleaner)}}function xt(r,h){if(1&r){const t=e.KQA();e.I0R(0,"button",24),e.qCj("click",function(){e.usT(t);const a=e.GaO(3);return e.CGJ(a.selectAllOptions())}),e.OEk(1),e.C$Y()}if(2&r){const t=e.GaO(3);e.yG2(),e.oRS(" ",t.selectAllLabel," ")}}function Rt(r,h){if(1&r&&e.yuY(0,xt,2,1,"button",23),2&r){const t=e.GaO(2);e.C0Y(0,t.selectAll&&t.multiple&&!t.virtualScroller?0:-1)}}function It(r,h){1&r&&e.C_f(0)}function Pt(r,h){if(1&r&&e.yuY(0,It,1,0,"ng-container",25),2&r){const t=e.GaO(2),i=e.Gew(12),a=e.Gew(14);e.E7m("ngTemplateOutlet",t.virtualScroller?i:a)}}function Ft(r,h){if(1&r&&(e.I0R(0,"div",26),e.OEk(1),e.C$Y()),2&r){const t=e.GaO(2);e.yG2(),e.cNF(t.searchNoResultsLabel)}}const At=()=>({"border-radius":"6px","z-index":2});function Gt(r,h){1&r&&e.wR5(0,"c-element-cover",22),2&r&&e.E7m("ngStyle",e.q4q(1,At))}function Vt(r,h){if(1&r&&(e.I0R(0,"div",8,21),e.yuY(2,Rt,1,1)(3,Pt,1,1,"ng-container")(4,Ft,2,1)(5,Gt,1,2,"c-element-cover",22),e.C$Y()),2&r){const t=e.GaO(),i=e.Gew(1);e.E7m("visible",i.visible),e.yG2(2),e.C0Y(2,t.visibleOptions()&&t.options.length>0?2:-1),e.yG2(),e.C0Y(3,t.visibleOptions()&&t.options.length>0||t.isLoading()?3:4),e.yG2(2),e.C0Y(5,t.isLoading()?5:-1)}}const Bt=()=>[m.a,m.Qt,m.XV,Ve,Oe,Se],Qe=(r,h,t,i,a,o,T)=>({$implicit:r,even:h,odd:t,index:i,count:a,first:o,last:T});function Yt(r,h){if(1&r&&e.C_f(0,31,32),2&r){const t=h.$implicit,i=h.even,a=h.odd,o=h.index,T=h.count,q=h.first,z=h.last,J=e.GaO(4),Te=e.Gew(16);e.E7m("ngTemplateOutletContext",e.gzV(2,Qe,t,i,a,o,T,q,z))("ngTemplateOutlet",J.templates.multiSelectOptionTemplate||Te)}}const Wt=(r,h,t)=>({"height.px":r,"maxHeight.px":h,"minWidth.px":t,overflowX:"hidden"}),Lt=r=>({"minWidth.px":r,overflowX:"hidden"});function Ut(r,h){if(1&r){const t=e.KQA();e.I0R(0,"cdk-virtual-scroll-viewport",28,29),e.qCj("scrolledIndexChange",function(a){e.usT(t);const o=e.Gew(1),T=e.GaO(3);return e.CGJ(T.handleScrolledIndexChange(a,o))}),e.yuY(2,Yt,2,10,"ng-container",30),e.C$Y()}if(2&r){const t=e.GaO(3);let i;e._6D("maxBufferPx",t.itemSize*t.visibleItems),e._6D("minBufferPx",t.itemSize*t.visibleItems),e.E7m("itemSize",t.itemSize)("ngStyle","auto"!==t.optionsMaxHeight?e.uAc(7,Wt,t.optionsMaxHeight,t.optionsMaxHeight,null!==(i=t.itemMinWidth)&&void 0!==i?i:196):e.S45(11,Lt,null!==(i=t.itemMinWidth)&&void 0!==i?i:196)),e.yG2(2),e.E7m("cdkVirtualForOf",h)("cdkVirtualForTrackBy",t.trackByFn)("cdkVirtualForTemplateCacheSize",0)}}function zt(r,h){if(1&r&&(e.yuY(0,Ut,3,13,"cdk-virtual-scroll-viewport",27),e.wVc(1,"async")),2&r){const t=e.GaO(2);let i;e.C0Y(0,(i=e.kDX(1,1,t.optionsArray$))?0:-1,i)}}function $t(r,h){1&r&&(e.yuY(0,zt,2,3),e._Yw(1,0,Bt),e.CqN())}const Ht=r=>({"form-multi-select-options":r}),Kt=r=>({"maxHeight.px":r,overflowY:"scroll"}),jt=()=>({});function Nt(r,h){if(1&r&&(e.I0R(0,"div",33),e._Xx(1),e.C_f(2,34),e.C$Y()),2&r){const t=e.GaO(),i=e.Gew(18);e.E7m("ngClass",e.S45(3,Ht,t.visibleOptions()))("ngStyle","auto"!==t.optionsMaxHeight?e.S45(5,Kt,t.optionsMaxHeight):e.q4q(7,jt)),e.yG2(2),e.E7m("ngTemplateOutlet",i)}}function Qt(r,h){if(1&r&&(e.I0R(0,"c-multi-select-option",35),e.OEk(1),e.C$Y()),2&r){const t=h.$implicit;e.E7m("disabled",t.disabled)("label",t.label)("text",t.text)("value",t.value)("visible",t.visible),e.yG2(),e.oRS(" ",t.text," ")}}function Jt(r,h){if(1&r&&e.C_f(0,36),2&r){const t=h.$implicit,i=h.$index,a=h.$count,o=e.GaO(2),T=e.Gew(16);e.E7m("ngTemplateOutlet",o.templates.multiSelectOptionTemplate||T)("ngTemplateOutletContext",e.gzV(2,Qe,t,i%2==0,i%2!=0,i,a,0===i,i===a-1))}}function Zt(r,h){if(1&r&&(e.c53(0,Jt,1,10,"ng-container",36,e.oxv),e.wVc(2,"async")),2&r){const t=e.GaO();e.oho(e.kDX(2,0,t.userOptionsArray$))}}const Xt=["*"],qt={name:"observeReferenceModifier",enabled:!0,phase:"main",fn({}){},effect:({state:r,instance:h})=>{const t="__popperjsRO__",{reference:i}=r.elements;return i[t]=new ResizeObserver(a=>{h.update()}),i[t]?.observe(i),()=>{i[t]?.disconnect(),delete i[t]}}};let ei=(()=>{class r{#e;#t;constructor(t,i,a,o,T,q,z,J){this.elementRef=t,this.renderer=i,this.ngZone=a,this.changeDetectorRef=o,this.viewContainerRef=T,this.focusMonitor=q,this.multiSelectService=z,this.iterableDiffers=J,this.#e=(0,e.uUt)(e.eM9),this.#t=(0,e.uUt)(m.od),this.#i=new C.E,this.#s=new C.E,this.userOptionsArray$=new ke.g([]),this.#n=new Map,this.optionsSelected$=new ke.g([]),this.optionsSelected=new Map,this.value$=new ke.g([]),this.#r=[],this.onChange=Te=>{},this.onTouched=()=>{},this.allowCreateOptions=!1,this.cleaner=!0,this.clearSearchOnSelect=!1,this._disabled=!1,this.isLoading=(0,e.OCB)(!1),this._multiple=!1,this.nativeFormId="",this.nativeId="",this.nativeName="",this.optionsMaxHeight="auto",this.placeholder="Select...",this.search=!0,this.searchNoResultsLabel="no items",this._searchValue="",this.searchValueChange=new e._w7,this.selectAll=!0,this.selectAllLabel="Select all options",this.selectionType="tags",this.selectionTypeCounterText="item(s) selected",this.selectionTypeCounterTextPluralMap={"=1":"item selected",other:"items selected"},this.#a=[],this.valueChange=new e._w7,this._virtualScroller=!1,this._visibleItems=8,this.itemSize=40,this.itemMinWidth=196,this._visible=!1,this.visibleChange=new e._w7,this.popperjsOptions={strategy:"fixed",modifiers:[qt,{name:"offset",options:{offset:()=>"tags"===this.selectionType&&this.optionsSelected.size?[-2,8]:[-12,12]}}]},this.isDropdownVisible=!1,this.templates={},this._tabIndex=-1,this.visibleOptions=(0,e.OCB)(!1),this._subtreeFocused=this.focusOrigin(null),this.userOptions=this.multiSelectService.getUserOptions(),this.activeOption=null,this.differ=this.iterableDiffers.find(this.#a).create(),this.multiSelectService.setSelectionModel(this.multiple),this.optionsArray$=this.multiSelectService.getOptionsArray()}#i;#s;#n;#r;writeValue(t){this.value=null!=t?Array.isArray(t)?[...t]:[t]:Array(0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}set disabled(t){this._disabled!==t&&(this._disabled=t,this.setFocusMonitor(!t))}get disabled(){return this._disabled}set loading(t){this.isLoading.set(t)}set multiple(t){this._multiple=t,this.multiSelectService.setSelectionModel(this._multiple)}get multiple(){return this._multiple}set options(t){Array.isArray(t)&&(this.#n.clear(),this.makeOptions(t))}get options(){return[...this.#n.values()]}set optionsStyle(t){this.multiSelectService.optionsStyle=t??"checkbox"}set searchValue(t){this._searchValue!==t.trimStart()&&(this._searchValue=t.trimStart(),this.visible=!!(this.searchValue.length>0&&this.subtreeFocused)||this.visible,this.filterOptions(this.searchValue),this.inputElementSize(),this.searchValueChange.emit(this._searchValue))}get searchValue(){return this._searchValue}set value(t){const i=Array.isArray(t)?[...t]:[t];this.differ&&this.differ.diff(i)&&(this.#a=[...i],this.value$.next([...i]),this.onChange(this.value))}get value(){const t=this.multiSelectService.selectionModel?.selected??[...this.#a];return this.multiple?[...t]:t[0]}#a;set virtualScroller(t){this._virtualScroller=t}get virtualScroller(){return this._virtualScroller}set visibleItems(t){this._visibleItems=t>0?t:8,this.optionsMaxHeight=(this.itemSize*this._visibleItems+16).toString()}get visibleItems(){return this._visibleItems}set visible(t){t!==this._visible&&(this._visible=t,setTimeout(()=>{this.multiSelectService.toggleVisible(t)}))}get visible(){return this._visible}get selectedOptions(){return[...this.optionsSelected.values()]}get selectedOptionsText(){return this.selectedOptions.map(t=>t.label).join(", ")}get counterText(){return`${this.selectedOptions.length} ${this.selectionTypeCounterText}`}get counterTextType(){return typeof this.selectionTypeCounterTextPluralMap}get counterPlaceholderText(){return 0===this.selectedOptions.length||"counter"!==this.selectionType?null:"string"===this.counterTextType?this.counterText:`${this.selectedOptions.length} ${this.#t.transform(this.selectedOptions.length,this.selectionTypeCounterTextPluralMap??{other:this.selectionTypeCounterText??"+"})}`}get hostClasses(){return{disabled:this.disabled}}get multiselectClasses(){return{"form-multi-select":!0,"form-multi-select-selection-tags":"tags"===this.selectionType&&this.optionsSelected.size>0,[`form-multi-select-${this.size}`]:!!this.size,"form-multi-select-with-cleaner":this.cleaner,multiple:this.multiple,[`${this.selectionType}`]:this.selectionType,show:this.visible,disabled:this.disabled,"is-valid":!0===this.valid,"is-invalid":!1===this.valid}}get ariaMultiSelectable(){return this.multiple}get ariaExpanded(){return this.visible}get tabIndex(){return this._tabIndex}set tabIndex(t){setTimeout(()=>{this._tabIndex=this.disabled||this.search?-1:null===t?null:0})}onKeyUp(t){if(this.disabled)return;this.onTouched();const i=t.target.tagName;if("Escape"===t.key)return this.visible=!1,this.searchValue="",void this.setFocus("keyboard","onKeyUp");if(["Enter","Space","ArrowDown"].includes(t.code)&&[this.inputElement?.nativeElement,this.elementRef.nativeElement].includes(t.target))return t.stopPropagation(),this.visible=!0,void(this.search||this.setFocus("keyboard","onKeyUp"));if(["Tab"].includes(t.key)){if(t.target===this.elementRef.nativeElement)return this.visible=!0,this.search||this.setFocus("keyboard","onKeyUp"),void(this.tabTarget=i);if(this.visible&&this.subtreeFocused){if("C-MULTI-SELECT-OPTION"===i){if("C-MULTI-SELECT-OPTION"===this.tabTarget){if(t.shiftKey&&this.focusKeyManager.activeItem?.value===this.options.filter(a=>a.visible&&!a.disabled).slice(0)[0].value)return this.setFocus("keyboard","onKeyUp"),void(this.tabTarget=i);if(!t.shiftKey&&this.focusKeyManager.activeItem?.value===this.options.filter(a=>a.visible&&!a.disabled).slice(-1)[0].value)return this.setFocus("keyboard","onKeyUp"),this.tabTarget=i,void this.updateActiveItem(0)}this.focusKeyManager.activeItem&&this.tabTarget===i?t.shiftKey?this.focusKeyManager.setPreviousItemActive():this.focusKeyManager.setNextItemActive():this.activeOption?this.focusKeyManager.setActiveItem(this.activeOption):this.setFirstItemActive()}return void(this.tabTarget=i)}}}onKeyDown(t){const i=t.target.tagName;if("Enter"===t.key&&"INPUT"===i&&t.preventDefault(),"Tab"!==t.key){if("ArrowDown"!==t.key||"C-MULTI-SELECT-OPTION"===i)return"Escape"===t.key?(this.visible=!1,this.searchValue="",void this.setFocus("keyboard","onKeyDown")):void(this.disabled||t.target!==this.inputElement?.nativeElement&&"Tab"!==t.key&&this.focusKeyManager?.onKeydown(t));t.preventDefault()}else this.tabTarget=i}onClick(t){this.disabled||(this.visible=![this.dropdown.nativeElement].includes(t.target)||!this.visible,this.onTouched(),this.setFocus("mouse","onClick"))}get subtreeFocused(){return this._subtreeFocused}set subtreeFocused(t){this._subtreeFocused=!this.disabled&&t,t||(this.searchValue=""),this.virtualScroller||(this.visible=!1!==t&&this.visible)}focusOrigin(t){return!this.disabled&&!!t}ngOnInit(){this.multiSelectService.selectionModel.changed.pipe((0,ee.I)(()=>!this.multiple),Ye(0),(0,Ce.y)(t=>{t.added.length>0&&(this.visible=!1,this.searchValue="")}),(0,Xe.s)(1),(0,Ce.y)(t=>{this.setFocus("program","selectionModel.changed (single)")}),(0,_.ay)(this.#e)).subscribe(),this.#s.pipe((0,ee.I)(()=>!this.virtualScroller),Ye(0),(0,Ce.y)(()=>{this.setFocusKeyManager([...this.multiSelectOptionsContent,...this.multiSelectOptionsView])}),(0,_.ay)(this.#e)).subscribe(),this.multiSelectService.selectionModel.changed.pipe((0,Ce.y)(t=>{const{added:i}={...t};i.length>0&&this.clearSearchOnSelect&&(this.searchValue="")}),(0,_.ay)(this.#e)).subscribe(),this.multiSelectService.selectionModel.changed.pipe(je(this.#s),(0,Ce.y)(([t,i])=>{const{removed:a}={...t};a.forEach(o=>{this.optionsSelected.delete(o)}),this.multiSelectService.selectionModel.selected.forEach(o=>{const T=this.#n.get(o);T&&this.optionsSelected.set(o,T)}),this.optionsSelected$.next(Array.from(this.optionsSelected.values())),this.value=[...this.multiSelectService.selectionModel.selected],this.inputElementSize(),this.updateNativeSelect()}),(0,_.ay)(this.#e)).subscribe(),this.multiSelectService.selectionModel.select(...this.#a),this.value$.pipe((0,_.ay)(this.#e)).subscribe(t=>{t.length?t.forEach(i=>{this.multiSelectService.selectionModel.select(i)}):this.clearAllOptions()}),this.value$.pipe((0,Re.o)(100),(0,Ce.y)(t=>{this.valueChange.emit(this.value)}),(0,_.ay)(this.#e)).subscribe(),this.multiSelectService.optionsArray$.pipe(je(this.userOptionsArray$),(0,Ce.y)(([t,i])=>{if(this.visibleOptions.set(t.some(a=>a.visible)||i.some(a=>a.visible)),this.activeOption=null,this.virtualScroller)this.multiSelectOptionsContent?.forEach(a=>{a.active=!1}),this.scrollViewport?.setRenderedRange({start:0,end:this.visibleItems}),this.scrollViewport?.scrollToIndex(0);else{this.multiSelectOptionsContent?.forEach(o=>{const T=t.find(q=>q.value===o.value);o.visible=T?.visible??!1,o.active=!1});const a=this.firstFocusableItem;a&&this.updateActiveItem(a)}this.activeOption||setTimeout(()=>{this.updateActiveItem(0)}),this.multiSelectOptionsContent?.notifyOnChanges()}),(0,_.ay)(this.#e)).subscribe(),this.tabIndex=0}ngOnDestroy(){this.#i.next(),this.#i.complete(),this.setFocusMonitor(!1)}ngOnChanges(t){t.value&&(0===t.value.currentValue.length&&this.clearAllOptions(),this.inputElementSize())}makeOptions(t){"external"===this.search&&this.searchValue.length&&this.#n.forEach((i,a)=>{i.visible=!1}),t.forEach(i=>{const a=i.value,o={value:i.value??i.label,label:i.label??i.value?.toString(),disabled:!0===i.disabled,visible:"external"===this.search||(i.custom&&i.selected?i.visible:!1!==i.visible),text:i.text??i.label??i.value?.toString(),selected:i.selected,custom:i.custom};this.#n.set(a,{...o})}),this.filterOptions(this.searchValue),this.multiSelectOptionsContent?.notifyOnChanges(),this.multiSelectOptionsView?.notifyOnChanges(),this.#s.next()}addUserOption(){if(this.allowCreateOptions){if(this.userOptions().some(i=>i.value===this.searchValue)||this.#n.get(this.searchValue))return;const t={value:this.searchValue,label:this.searchValue,text:this.searchValue,visible:!0,custom:!0,selected:!0};this.searchValue=this.clearSearchOnSelect||this.allowCreateOptions?"":this.searchValue,this.multiSelectService.addUserOption(t),this.multiSelectService.selectionModel.select(t.value),this.optionsSelected.set(t.value,t),this.makeOptions([...this.options,...this.userOptions()])}}removeAllUserOptions(){this.multiSelectService.removeAllUserOptions()}ngAfterViewInit(){this.setVirtualScroller(),this.multiSelectOptionsContent?.changes.pipe(Ye(0),(0,Q.a)((t,i)=>{const a=t.toArray().map(T=>T.value),o=i.toArray().map(T=>T.value);return this.virtualScroller?JSON.stringify(a)===JSON.stringify(o):JSON.stringify(this.#r)===JSON.stringify(o)}),(0,Ce.y)(t=>{this.#r=t.toArray().map(i=>i.value)}),(0,_.ay)(this.#e)).subscribe(t=>{this.visibleOptions.set(this.multiSelectOptionsContent?.some(i=>i.visible)),this.visibleOptions()&&this.makeOptions(this.multiSelectOptionsContent.toArray())}),this.visibleOptions.set(this.multiSelectOptionsContent?.length>0||this.multiSelectOptionsView?.length>0),this.visibleOptions()&&this.multiSelectOptionsContent.notifyOnChanges(),this.multiselectSubscribe(),this.setFocusMonitor(!this.disabled),this.setListKeyManager(),this.inputElementSize(),this.multiSelectOptionsContent.notifyOnChanges(),setTimeout(()=>{this.createNativeSelect()}),this.multiSelectService.multiSelectFocus$.pipe((0,_.ay)(this.#e)).subscribe(t=>{this.activeOption&&this.activeOption.value!==t.value&&this.focusKeyManager.setActiveItem(t)})}multiselectSubscribe(t=!0){this.multiSelectService.multiSelectVisible$.pipe((0,Re.o)(100),(0,Q.a)(),(0,_.ay)(this.#e)).subscribe(i=>{this.isDropdownVisible!==i&&(this.isDropdownVisible=i,this.visibleChange.emit(i),i&&this.virtualScroller&&(this.scrollViewport?.setRenderedRange({start:0,end:this.visibleItems}),this.scrollViewport?.scrollToIndex(0)),this.multiSelectOptionsContent.notifyOnChanges()),this.updateActiveItem(0)})}clearAllOptions(t){setTimeout(()=>{const i=Array.from(this.optionsSelected.values()).filter(a=>!a.disabled).map(a=>a.value);this.multiSelectService.selectionModel.deselect(...i),this.removeAllUserOptions()}),this.searchValue="",t&&this.setFocus("program","clearAllOptions")}selectAllOptions(){const t=Array.from(this.#n.values()).filter(i=>i.visible&&!i.disabled).map(i=>i.value);this.multiSelectService.selectionModel.select(...t),this.inputElementSize()}handleTagRemove(t){this.multiSelectService.selectionModel.deselect(t),this.setFocus("program","handleTagRemove")}setFocus(t="program",i){if(this.disabled)return;const a=this.inputElement?.nativeElement??this.elementRef.nativeElement,o="program"===t;this.focusMonitor?.focusVia(a,t,{preventScroll:o})}filterOptions(t){const i=t.toLowerCase()??"";this.#n.forEach((a,o)=>{""!==i?"function"!=typeof this.search?"external"===this.search&&!a.custom||!i||(a.visible=a.label?.toLowerCase().includes(i)??!0):a.visible=this.search(a,i):a.visible=!0}),this.multiSelectService.updateOptionsArray(Array.from(this.#n.values()).filter(a=>a.visible)),this.userOptionsArray$.next(Array.from(this.#n.values()).filter(a=>a.custom))}createNativeSelect(){this.nativeId&&(this.viewContainerRef.clear(),this.nativeSelectRef=this.viewContainerRef.createComponent(mt),this.updateNativeSelect())}updateNativeSelect(){if(!this.nativeSelectRef||!this.nativeId)return;const t=Array.from(this.optionsSelected).map(i=>{const{selected:a,value:o,label:T}=i[1];return{selected:a,value:o,label:T}});this.nativeSelectRef.instance.multiple=this.multiple,this.nativeSelectRef.instance.form=this.nativeFormId,this.nativeSelectRef.instance.id=this.nativeId,this.nativeSelectRef.instance.name=this.nativeName,this.nativeSelectRef.instance.options=[...t],this.nativeSelectRef.instance.disabled=this.disabled,this.nativeSelectRef.instance.changeDetectorRef.markForCheck()}inputElementSize(){this.inputElement&&(this.inputElement?.nativeElement?.disabled?this.renderer.removeAttribute(this.inputElement?.nativeElement,"size"):this.renderer.setAttribute(this.inputElement?.nativeElement,"size",(this.searchValue.length+2).toString()))}handleSearchKeyDown(t){if(["Enter"].includes(t.key)&&this.searchValue.length&&this.allowCreateOptions)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.addUserOption(),void this.changeDetectorRef.markForCheck();if(!this.searchValue.length&&0!==this.optionsSelected.size&&["Backspace","Delete"].includes(t.key)){t.stopPropagation();const i=this.selectedOptions.filter(a=>!a.disabled).pop();i&&this.multiSelectService.selectionModel.deselect(i.value)}}setFocusMonitor(t){t&&!this.disabled?this.focusMonitorSubscription=this.focusMonitor?.monitor(this.elementRef,!0).pipe((0,Re.o)(100),(0,_.ay)(this.#e)).subscribe(i=>{this.ngZone.run(()=>{this.subtreeFocused=this.focusOrigin(i),this.changeDetectorRef?.markForCheck()})}):(this.focusMonitor?.stopMonitoring(this.elementRef),this.focusMonitorSubscription?.unsubscribe())}handleScrolledIndexChange(t,i){this.scrollViewport||(this.scrollViewport=i);const a=this.options.filter(z=>z.visible),o=a[t],T=a.findIndex(z=>z.value===this.activeOption?.value),q=this.multiSelectOptionsContent.toArray();if(t>T){const z=q.find(J=>J.value===o?.value);z&&t&&this.focusKeyManager.setActiveItem(z)}else if(t+this.visibleItems-2<=T){const z=q.findIndex(J=>J.value===o.value);z>-1&&this.focusKeyManager.setActiveItem(z+this.visibleItems-2)}}trackByFn(t,i){return i.value}handleSearchValueChange(t){this.searchValue=t,t||(this.scrollViewport?.scrollToIndex(0),this.multiSelectOptionsContent.notifyOnChanges(),this.subtreeFocused&&this.setFocus("program","handleSearchValueChange"))}setVirtualScroller(){if(!this.virtualScroller)return;this.contentTemplates.forEach(o=>{this.templates[o.id]=o.templateRef}),this.templates.multiSelectOptionTemplate||(this.multiSelectOptionsContent=this.multiSelectOptionsView,this.multiSelectOptionsContent.notifyOnChanges());const t=o=>[...o.elementRef.nativeElement.parentElement.children].indexOf(o.elementRef.nativeElement);this.multiSelectOptionsContent.changes.pipe((0,Ie.k)(o=>o.toArray()),(0,ee.I)(o=>o.length>0),(0,Ie.k)(o=>o.sort((T,q)=>t(T)-t(q))),(0,_.ay)(this.#e)).pipe((0,_.ay)(this.#e)).subscribe(o=>this.multiSelectOptionsContent.reset(o)),this.scrollViewportView.changes.pipe((0,xe.U)(1),(0,Ie.k)(o=>o.toArray()[0]),(0,Ce.y)(o=>{if(!this.scrollViewport){this.scrollViewport=o;const T=this.scrollViewport.getElementRef().nativeElement?.firstElementChild;if(T){const q=getComputedStyle(T,null)??void 0,z=3*parseInt(q?.getPropertyValue("padding-left")??"12px"),J=new MutationObserver(Te=>{Te.forEach(Ue=>{Ue.addedNodes.forEach(Je=>{if("C-MULTI-SELECT-OPTION"===Je.nodeName){const Ze=Je.offsetWidth;Ze>this.itemMinWidth&&(this.itemMinWidth=Ze+z)}})})});J?.observe(T,{childList:!0}),this.#i.subscribe(()=>{J?.disconnect()})}}}),(0,_.ay)(this.#e)).subscribe()}setListKeyManager(){this.multiSelectOptionsContent.changes.pipe((0,ee.I)(t=>this.virtualScroller),(0,xe.U)(1),(0,Ce.y)(()=>{this.setFocusKeyManager(this.multiSelectOptionsContent)}),(0,_.ay)(this.#e)).subscribe()}setFocusKeyManager(t){this.focusKeyManager=new v.IH(t).withHomeAndEnd().withPageUpDown().skipPredicate(i=>i.disabled||!i.visible),this._virtualScroller||this.focusKeyManager.withTypeAhead(300),this.focusKeyManager.tabOut.pipe((0,_.ay)(this.#e),(0,Ce.y)(()=>{})).subscribe(),this.focusKeyManager.change.pipe((0,_.ay)(this.#e)).subscribe(i=>{i<0&&(this.activeOption?this.focusKeyManager.setActiveItem(this.activeOption):this.setFirstItemActive()),this.focusKeyManager.activeItem&&(this.focusKeyManager.activeItem.active=!0),this.activeOption=this.focusKeyManager.activeItem,this.multiSelectService.focusChange(this.activeOption),this.multiSelectOptionsContent.notifyOnChanges(),this.multiSelectOptionsView.notifyOnChanges()})}get firstFocusableItem(){return this.multiSelectOptionsContent?.find(t=>t.visible&&!t.disabled)??this.multiSelectOptionsView?.find(t=>t.visible&&!t.disabled)}setFirstItemActive(){const t=this.firstFocusableItem;t?this.focusKeyManager?.setActiveItem(t):this.focusKeyManager?.setFirstItemActive(),this.activeOption=this.focusKeyManager?.activeItem??null}updateActiveItem(t){const i=this.firstFocusableItem??t;this.focusKeyManager?.updateActiveItem(i||0),this.focusKeyManager?.activeItem&&(this.multiSelectOptionsContent?.forEach(a=>{a.active=!1}),this.multiSelectOptionsView?.forEach(a=>{a.active=!1}),this.focusKeyManager.activeItem.active=!0),this.activeOption=this.focusKeyManager?.activeItem??null}static#l=this.\u0275fac=function(i){return new(i||r)(e.GI1(e.GMv),e.GI1(e.q87),e.GI1(e.WW2),e.GI1(e.kD9),e.GI1(e.y8U),e.GI1(v.Kk),e.GI1(We.w),e.GI1(e.Uj7))};static#o=this.\u0275cmp=e.In1({type:r,selectors:[["c-multi-select"]],contentQueries:function(i,a,o){if(1&i&&(e.szK(o,Le.O,5),e.szK(o,ht.i,5)),2&i){let T;e.wto(T=e.Gqi())&&(a.multiSelectOptionsContent=T),e.wto(T=e.Gqi())&&(a.contentTemplates=T)}},viewQuery:function(i,a){if(1&i&&(e.CC$(gt,5),e.CC$(Ct,5),e.CC$(vt,5),e.CC$(Pe.iq,5,e.GMv),e.CC$(Pe.gT,5,e.GMv),e.CC$(Le.O,5),e.CC$(Dt,5)),2&i){let o;e.wto(o=e.Gqi())&&(a.optionsElementRef=o.first),e.wto(o=e.Gqi())&&(a.inputElement=o.first),e.wto(o=e.Gqi())&&(a.dropdownMenu=o.first),e.wto(o=e.Gqi())&&(a.dropdown=o.first),e.wto(o=e.Gqi())&&(a.dropdownToggle=o.first),e.wto(o=e.Gqi())&&(a.multiSelectOptionsView=o),e.wto(o=e.Gqi())&&(a.scrollViewportView=o)}},hostVars:5,hostBindings:function(i,a){1&i&&e.qCj("keyup",function(T){return a.onKeyUp(T)})("keydown",function(T){return a.onKeyDown(T)})("click",function(T){return a.onClick(T)}),2&i&&(e.e48("aria-multiselectable",a.ariaMultiSelectable)("aria-expanded",a.ariaExpanded)("tabindex",a.tabIndex),e.m8U(a.hostClasses))},inputs:{allowCreateOptions:[e.Wk5.HasDecoratorInputTransform,"allowCreateOptions","allowCreateOptions",e.cZD],cleaner:"cleaner",clearSearchOnSelect:[e.Wk5.HasDecoratorInputTransform,"clearSearchOnSelect","clearSearchOnSelect",e.cZD],disabled:[e.Wk5.HasDecoratorInputTransform,"disabled","disabled",e.cZD],loading:[e.Wk5.HasDecoratorInputTransform,"loading","loading",e.cZD],multiple:[e.Wk5.HasDecoratorInputTransform,"multiple","multiple",e.cZD],nativeFormId:"nativeFormId",nativeId:"nativeId",nativeName:"nativeName",options:"options",optionsMaxHeight:"optionsMaxHeight",optionsStyle:"optionsStyle",placeholder:"placeholder",search:"search",searchNoResultsLabel:"searchNoResultsLabel",searchValue:"searchValue",selectAll:"selectAll",selectAllLabel:"selectAllLabel",selectionType:"selectionType",selectionTypeCounterText:"selectionTypeCounterText",selectionTypeCounterTextPluralMap:"selectionTypeCounterTextPluralMap",size:"size",value:"value",valid:"valid",virtualScroller:[e.Wk5.HasDecoratorInputTransform,"virtualScroller","virtualScroller",e.cZD],visibleItems:[e.Wk5.HasDecoratorInputTransform,"visibleItems","visibleItems",e.cJ3],itemSize:"itemSize",itemMinWidth:"itemMinWidth",visible:[e.Wk5.HasDecoratorInputTransform,"visible","visible",e.cZD],popperjsOptions:[e.Wk5.None,"popperOptions","popperjsOptions"]},outputs:{searchValueChange:"searchValueChange",valueChange:"valueChange",visibleChange:"visibleChange"},exportAs:["cMultiSelect"],standalone:!0,features:[e.M5G([m.od,We.w,{provide:I.Y6,useExisting:(0,e.wd)(()=>r),multi:!0}]),e.QJr,e.SYr,e.UHJ],ngContentSelectors:Xt,decls:19,vars:11,consts:[[1,"picker",3,"visible","autoClose","ngClass","popperOptions","visibleChange"],["dropdown","cDropdown"],["cDropdownToggle","","role","button",3,"caret","disabled"],["dropdownToggle","cDropdownToggle"],[1,"form-multi-select-selection"],["class","text-placeholder text-truncate"],["autocomplete","off","cMultiSelectSearch","","size","2","type","text",3,"disabled","ngClass","ngModel","value","tabindex"],["aria-label","Clear all","class","form-multi-select-selection-cleaner d-flex","type","button",3,"disabled"],["cDropdownMenu","","role","menu",3,"visible"],["multiselectVirtualScroller",""],["multiselectOptionsDiv",""],["defaultMultiSelectOptionTemplate",""],["userOptionsTemplate",""],["tabindex","-1",1,"form-multi-select-tag","text-truncate",3,"disabled","label","option","value","remove"],["class","form-multi-select-tag text-truncate","tabindex","-1",3,"disabled","label","option","value"],[1,"form-multi-select-text","text-truncate"],["class","form-multi-select-text text-truncate"],[1,"text-placeholder","text-truncate"],["autocomplete","off","cMultiSelectSearch","","size","2","type","text",3,"disabled","ngClass","ngModel","value","tabindex","keydown","valueChange"],["inputElement",""],["aria-label","Clear all","type","button",1,"form-multi-select-selection-cleaner","d-flex",3,"disabled","click"],["dropdownMenu","cDropdownMenu"],[3,"ngStyle"],["class","form-multi-select-all","type","button","tabindex","0"],["type","button","tabindex","0",1,"form-multi-select-all",3,"click"],[4,"ngTemplateOutlet"],[1,"form-multi-select-options-empty"],["class","form-multi-select-options","tabindex","-1",3,"itemSize","ngStyle","maxBufferPx","minBufferPx"],["tabindex","-1",1,"form-multi-select-options",3,"itemSize","ngStyle","maxBufferPx","minBufferPx","scrolledIndexChange"],["scrollViewport",""],[3,"ngTemplateOutletContext","ngTemplateOutlet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["cdkVirtualFor",""],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet"],[3,"disabled","label","text","value","visible"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,a){1&i&&(e.kPM(),e.I0R(0,"c-dropdown",0,1),e.iHE("visibleChange",function(T){return e.kNx(a.visible,T)||(a.visible=T),T}),e.I0R(2,"div",2,3)(4,"span",4),e.yuY(5,St,2,3)(6,Tt,2,0)(7,wt,2,1,"span",5)(8,Mt,2,9,"input",6)(9,kt,1,1,"button",7),e.C$Y()(),e.yuY(10,Vt,6,4,"div",8),e.C$Y(),e.yuY(11,$t,3,0,"ng-template",null,9,e.gJz)(13,Nt,3,8,"ng-template",null,10,e.gJz)(15,Qt,2,6,"ng-template",null,11,e.gJz)(17,Zt,3,2,"ng-template",null,12,e.gJz)),2&i&&(e.OKB("visible",a.visible),e.E7m("autoClose","outside")("ngClass",a.multiselectClasses)("popperOptions",a.popperjsOptions),e.yG2(2),e.E7m("caret",!1)("disabled",a.disabled),e.yG2(3),e.C0Y(5,"tags"===a.selectionType?5:"text"===a.selectionType&&a.selectedOptions.length?6:-1),e.yG2(2),e.C0Y(7,a.search?-1:7),e.yG2(),e.C0Y(8,a.search?8:-1),e.yG2(),e.C0Y(9,a.cleaner&&a.optionsSelected.size>0&&!a.disabled?9:-1),e.yG2(),e.C0Y(10,a.disabled?-1:10))},dependencies:[m.a,m.QF,m.Qt,m.XV,I.y,I.ot,I.ue,I._G,_t,Le.O,pt,Pe.iq,ct.S,Pe.gT,dt.s],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:focus-visible{outline:none}.cdk-focused[_nghost-%COMP%]:not(.disabled)   .form-multi-select[_ngcontent-%COMP%]{color:var(--cui-form-multi-select-focus-color, rgba(44, 56, 74, .95));background-color:var(--cui-form-multi-select-focus-bg, #fff);border-color:var(--cui-form-multi-select-focus-border-color, #6557e4);box-shadow:0 0 0 .25rem #321fdb40}[_nghost-%COMP%]:not(.cdk-focused)   .form-multi-select[_ngcontent-%COMP%]:not(.show)   input.form-multi-select-search[_ngcontent-%COMP%]:not([placeholder]){width:.1rem;margin-inline-start:0;display:none}[_nghost-%COMP%]   .form-multi-select[_ngcontent-%COMP%]   .form-multi-select-selection[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-wrap:wrap}[_nghost-%COMP%]   .form-multi-select[_ngcontent-%COMP%]   .form-multi-select-selection[_ngcontent-%COMP%]   .form-multi-select-search[_ngcontent-%COMP%]{margin-left:0;margin-right:0;display:flex;flex:1 1 auto}[_nghost-%COMP%]   .form-multi-select[_ngcontent-%COMP%]   .form-multi-select-selection[_ngcontent-%COMP%]   .text-placeholder[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-multi-select[_ngcontent-%COMP%]   .form-multi-select-selection[_ngcontent-%COMP%]   .form-multi-select-search[_ngcontent-%COMP%]::placeholder{color:var(--cui-form-multi-select-color);opacity:.8}[_nghost-%COMP%]   .form-multi-select[_ngcontent-%COMP%]   .form-multi-select-search[size][_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .cdk-virtual-scroll-content-wrapper{padding:var(--cui-form-multi-select-options-padding-y) var(--cui-form-multi-select-options-padding-x);font-size:1rem;color:var(--cui-form-multi-select-options-color)}[_nghost-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{width:var(--cui-dropdown-min-width)}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{--cui-dropdown-padding-y: 0}"]})}return r})()},7060:(te,V,l)=>{l.d(V,{k:()=>_});var e=l(4496);let _=(()=>{class m{static forRoot(){return{ngModule:m}}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275mod=e.a4G({type:m});static#i=this.\u0275inj=e.s3X({})}return m})()},7968:(te,V,l)=>{l.d(V,{i:()=>_});var e=l(4496);let _=(()=>{class m{constructor(v){this.templateRef=v}static#e=this.\u0275fac=function(b){return new(b||m)(e.GI1(e.Yw2))};static#t=this.\u0275dir=e.Sc5({type:m,selectors:[["","cTemplateId",""]],inputs:{id:[e.Wk5.None,"cTemplateId","id"]},standalone:!0})}return m})()},2252:(te,V,l)=>{l.d(V,{i:()=>_});var e=l(4496);let _=(()=>{class m{constructor(){this.label="Loading...",this.variant="border",this.role="status"}get hostClasses(){return{[`spinner-${this.variant}`]:!0,[`text-${this.color}`]:!!this.color,[`spinner-${this.variant}-${this.size}`]:!!this.size}}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275cmp=e.In1({type:m,selectors:[["c-spinner"]],hostVars:3,hostBindings:function(b,C){2&b&&(e.e48("role",C.role),e.m8U(C.hostClasses))},inputs:{color:"color",label:"label",size:"size",variant:"variant",role:"role"},standalone:!0,features:[e.UHJ],decls:2,vars:1,consts:[[1,"visually-hidden"]],template:function(b,C){1&b&&(e.I0R(0,"span",0),e.OEk(1),e.C$Y()),2&b&&(e.yG2(),e.cNF(C.label))},encapsulation:2})}return m})()},3144:(te,V,l)=>{l.d(V,{g:()=>Be});var e=l(4496),_=l(4716),m=l(1368),I=l(7712),v=l(4872),b=l(9212),C=l(6684),x=l(8120);const L=(f="default")=>{let W;try{W=Intl.DateTimeFormat.supportedLocalesOf(f).length?f:"default"}catch{W="default"}return W},U=(f="default")=>{const W=L(f);return Intl.DateTimeFormat(W,{timeStyle:"short"}).resolvedOptions().hour12??!1},H=f=>f?f instanceof Date?new Date(f):new Date(`1970-01-01 ${f}`):null,w=(f,W,s={})=>{const u=ue("en-US",s),g=new Intl.DateTimeFormat("en-US",{timeStyle:"short",hour12:!0}).format(f);return u.find(oe=>g.includes(oe.label))?.value??(f.getHours()>=12?"pm":"am")},R=(f,W={})=>{const s=U(f),u=new Date(0);return Array.from({length:24},(g,A)=>(u.setHours(A),{value:A,dayPeriod:w(u),label:u.toLocaleTimeString(f,{hour:"2-digit",hour12:s,minute:"2-digit",second:"2-digit"}).split(":")[0]}))},B=(f,W={},s=!1)=>{const u=new Date(0);return Array.from({length:60},(g,A)=>(u.setMinutes(A),{value:A,label:u.toLocaleTimeString(f,{hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}).split(":")[1]}))},ie=(f,W={},s=!1)=>Array.from({length:60},(u,g)=>{const A=new Date(0);return A.setSeconds(g),{value:g,label:A.toLocaleTimeString(f,{hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}).split(":")[2]}}),ce=f=>"string"==typeof f?(0,x.e8)(f)||(0,x.e8)(new Date(`1970-01-01 ${f}`)):(0,x.e8)(f),ue=(f="default",W={})=>{const s=L(f),u=[{value:"am",label:"am"},{value:"pm",label:"pm"}],g=U(s);if(!g)return u;const A=new Date(Date.UTC(1970,0,1,0,0,0)),oe=new Date(Date.UTC(1970,0,1,13,0,0)),_e=new Intl.DateTimeFormat(s,{hour12:g,hour:"numeric",timeZone:"UTC"}),Oe=_e.formatToParts(A).find(Se=>"dayPeriod"===Se.type)?.value??"am",Me=_e.formatToParts(oe).find(Se=>"dayPeriod"===Se.type)?.value??"pm";return u.forEach((Se,ze,$e)=>{$e[ze].label="am"===Se.value?Oe??"am":Me??"pm"}),u};var O=l(3500),E=l(920),P=l(1500),j=l(9656),N=l(9568),de=l(3400),Q=l(7968);const fe=(f,W)=>W.value,Y=(f,W)=>({"time-picker-roll-cell":!0,selected:f,disabled:W}),le=()=>({width:"fit-content"});function d(f,W){if(1&f){const s=e.KQA();e.I0R(0,"div",0),e.qCj("click",function(g){const oe=e.usT(s).$implicit,_e=e.GaO();return e.CGJ(_e.handleElementClick(g,oe))}),e.OEk(1),e.C$Y()}if(2&f){const s=W.$implicit,u=e.GaO();e.E7m("cTimeElement",s)("ngClass",e.IBC(5,Y,s.value===u.selected,s.disabled))("ngStyle",e.q4q(8,le)),e.e48("disabled",s.disabled||null),e.yG2(),e.oRS(" ",s.label," ")}}let S=(()=>{class f{constructor(s){this.elementRef=s}static#e=this.\u0275fac=function(u){return new(u||f)(e.GI1(e.GMv))};static#t=this.\u0275dir=e.Sc5({type:f,selectors:[["","cTimeElement",""]],inputs:{cTimeElement:"cTimeElement"},exportAs:["cTimeElement"],standalone:!0})}return f})(),M=(()=>{class f{constructor(s){this.elementRef=s,this.init=!0,this.disabled=!1,this.elements=[],this.selectedChange=new e._w7}get hostClasses(){return{"time-picker-roll-col":!0,disabled:this.disabled}}ngAfterViewInit(){this.timeElements?.changes.subscribe(s=>{const u=this.timeElements?.find(g=>g.cTimeElement?.value===this.selected);this.scrollToElement(u?.elementRef.nativeElement)}),setTimeout(()=>{const s=this.elementRef.nativeElement.querySelector(".selected");this.scrollToElement(s)},1e3)}ngOnChanges(s){if(s.refresh&&s.refresh.currentValue||s.selected&&!s.selected.firstChange){const u=this.timeElements?.find(g=>g.cTimeElement?.value===this.selected);this.init=!u,this.scrollToElement(u?.elementRef.nativeElement)}}scrollToElement(s){setTimeout(()=>{const u=s||this.elementRef.nativeElement.querySelector(".selected");u&&(this.elementRef.nativeElement.scrollTo({top:u?.offsetTop,behavior:this.init?"auto":"smooth"}),this.init=!1)})}handleElementClick(s,u){u.disabled||(this.selected=u.value,this.scrollToElement(s.target),this.onClick&&this.onClick(u.value),this.selectedChange.emit(u.value))}static#e=this.\u0275fac=function(u){return new(u||f)(e.GI1(e.GMv))};static#t=this.\u0275cmp=e.In1({type:f,selectors:[["c-time-picker-roll-col"]],viewQuery:function(u,g){if(1&u&&e.CC$(S,5),2&u){let A;e.wto(A=e.Gqi())&&(g.timeElements=A)}},hostVars:2,hostBindings:function(u,g){2&u&&e.m8U(g.hostClasses)},inputs:{disabled:"disabled",elements:"elements",onClick:"onClick",selected:"selected",refresh:"refresh"},outputs:{selectedChange:"selectedChange"},exportAs:["cTimePickerRollCol"],standalone:!0,features:[e.SYr,e.UHJ],decls:2,vars:0,consts:[["role","button",3,"cTimeElement","ngClass","ngStyle","click"],["role","button",3,"cTimeElement","ngClass","ngStyle"]],template:function(u,g){1&u&&e.c53(0,d,2,9,"div",1,fe),2&u&&e.oho(g.elements)},dependencies:[S,m.QF,m.Qt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return f})();const Z=(f,W)=>W.value,ee=(f,W)=>({"time-picker-roll-cell":!0,selected:f,disabled:W}),ge=()=>({width:"fit-content"});function ve(f,W){if(1&f){const s=e.KQA();e.I0R(0,"div",0),e.qCj("click",function(g){const oe=e.usT(s).$implicit,_e=e.GaO();return e.CGJ(_e.handleElementClick(g,oe))}),e.OEk(1),e.C$Y()}if(2&f){const s=W.$implicit,u=e.GaO();e.E7m("cDayPeriodElement",s)("ngClass",e.IBC(5,ee,s.value===u.selected,s.disabled))("ngStyle",e.q4q(8,ge)),e.e48("disabled",s.disabled||null),e.yG2(),e.oRS(" ",s.label,"\n")}}let p=(()=>{class f{constructor(s){this.elementRef=s}static#e=this.\u0275fac=function(u){return new(u||f)(e.GI1(e.GMv))};static#t=this.\u0275dir=e.Sc5({type:f,selectors:[["","cDayPeriodElement",""]],inputs:{cDayPeriodElement:"cDayPeriodElement"},exportAs:["cDayPeriodElement"],standalone:!0})}return f})(),X=(()=>{class f{constructor(s){this.elementRef=s,this.init=!0,this.disabled=!1,this.elements=[],this.selectedChange=new e._w7}get hostClasses(){return{"time-picker-roll-col":!0,disabled:this.disabled}}ngAfterViewInit(){this.dayPeriodElements?.changes.subscribe(u=>{const g=this.dayPeriodElements?.find(A=>A.cDayPeriodElement?.value===this.selected);this.scrollToElement(g?.elementRef.nativeElement)});const s=this.elementRef.nativeElement.querySelector(".selected");this.scrollToElement(s)}ngOnChanges(s){if(s.refresh&&s.refresh.currentValue||s.selected&&!s.selected.firstChange){const u=this.dayPeriodElements?.find(g=>g.cDayPeriodElement?.value===this.selected);this.init=!u,this.scrollToElement(u?.elementRef.nativeElement)}}scrollToElement(s){setTimeout(()=>{const u=s||this.elementRef.nativeElement.querySelector(".selected");u&&(this.elementRef.nativeElement.scrollTo({top:u?.offsetTop,behavior:this.init?"auto":"smooth"}),this.init=!1)})}handleElementClick(s,u){u.disabled||(this.selected=u.value,this.scrollToElement(s.target),this.onClick&&this.onClick(u.value),this.selectedChange.emit(u.value))}static#e=this.\u0275fac=function(u){return new(u||f)(e.GI1(e.GMv))};static#t=this.\u0275cmp=e.In1({type:f,selectors:[["c-time-picker-roll-am-pm"]],viewQuery:function(u,g){if(1&u&&e.CC$(p,5),2&u){let A;e.wto(A=e.Gqi())&&(g.dayPeriodElements=A)}},hostVars:2,hostBindings:function(u,g){2&u&&e.m8U(g.hostClasses)},inputs:{disabled:"disabled",elements:"elements",onClick:"onClick",selected:"selected",refresh:"refresh"},outputs:{selectedChange:"selectedChange"},standalone:!0,features:[e.SYr,e.UHJ],decls:2,vars:0,consts:[["role","button",3,"cDayPeriodElement","ngClass","ngStyle","click"],["role","button",3,"cDayPeriodElement","ngClass","ngStyle"]],template:function(u,g){1&u&&e.c53(0,ve,2,9,"div",1,Z),2&u&&e.oho(g.elements)},dependencies:[p,m.QF,m.Qt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return f})();function n(f,W){if(1&f&&(e.I0R(0,"option",10),e.OEk(1),e.C$Y()),2&f){const s=W.$implicit;e.E7m("ngValue",s.value),e.e48("disabled",s.disabled||null),e.yG2(),e.cNF(s.label)}}function c(f,W){if(1&f&&(e.I0R(0,"option",10),e.OEk(1),e.C$Y()),2&f){const s=W.$implicit;e.E7m("ngValue",s.value),e.e48("disabled",s.disabled||null),e.yG2(),e.cNF(s.label)}}function D(f,W){if(1&f&&(e.I0R(0,"option",10),e.OEk(1),e.C$Y()),2&f){const s=W.$implicit;e.E7m("ngValue",s.value),e.e48("disabled",s.disabled||null),e.yG2(),e.cNF(s.label)}}function F(f,W){if(1&f){const s=e.KQA();e.OEk(0),e.I0R(1,"select",11),e.qCj("blur",function(){e.usT(s);const g=e.GaO(2);return e.CGJ(g.onBlur())}),e.c53(2,D,2,3,"option",10,e.oxv),e.C$Y()}if(2&f){const s=e.GaO(2);let u;e.oRS(" "," :",""),e.yG2(),e.E7m("sizing",null!==(u=s.size)&&void 0!==u?u:""),e.e48("disabled",s.disabled||null),e.yG2(),e.oho(s.listOfSeconds)}}function re(f,W){if(1&f&&(e.I0R(0,"option",13),e.OEk(1),e.C$Y()),2&f){const s=W.$implicit;e.E7m("ngValue",s.value),e.yG2(),e.cNF(s.label)}}function ne(f,W){if(1&f){const s=e.KQA();e.I0R(0,"select",12),e.qCj("blur",function(){e.usT(s);const g=e.GaO(2);return e.CGJ(g.onBlur())}),e.c53(1,re,2,2,"option",14,e.oxv),e.C$Y()}if(2&f){const s=e.GaO(2);let u;e.E7m("sizing",null!==(u=s.size)&&void 0!==u?u:""),e.e48("disabled",s.disabled||null),e.yG2(),e.oho(s.dayPeriods)}}function pe(f,W){if(1&f){const s=e.KQA();e.I0R(0,"div",2)(1,"div",3)(2,"div",4),e.wR5(3,"span",5),e.I0R(4,"select",6),e.qCj("blur",function(){e.usT(s);const g=e.GaO();return e.CGJ(g.onBlur())}),e.c53(5,n,2,3,"option",10,e.oxv),e.C$Y(),e.OEk(7),e.I0R(8,"select",7),e.qCj("blur",function(){e.usT(s);const g=e.GaO();return e.CGJ(g.onBlur())}),e.c53(9,c,2,3,"option",10,e.oxv),e.C$Y(),e.yuY(11,F,4,3,"select",8)(12,ne,3,2,"select",9),e.C$Y()()()}if(2&f){const s=e.GaO();let u,g;e.yG2(2),e.E7m("formGroup",s.selectTime)("ngClass",s.timePickerClasses),e.yG2(2),e.E7m("sizing",null!==(u=s.size)&&void 0!==u?u:""),e.e48("disabled",s.disabled||null),e.yG2(),e.oho(s.listOfHours12),e.yG2(2),e.oRS(" "," :",""),e.yG2(),e.E7m("sizing",null!==(g=s.size)&&void 0!==g?g:""),e.e48("disabled",s.disabled||null),e.yG2(),e.oho(s.listOfMinutes),e.yG2(2),e.C0Y(11,s.seconds?11:-1),e.yG2(),e.C0Y(12,s.hour12?12:-1)}}function De(f,W){1&f&&(e.I0R(0,"span",28),e.wR5(1,"span",29),e.C$Y())}function be(f,W){if(1&f){const s=e.KQA();e.I0R(0,"span",30),e.qCj("click",function(g){e.usT(s);const A=e.GaO(3);return e.CGJ(!A.disabled&&A.handleClear(g))}),e.wR5(1,"span",31),e.C$Y()}}function ye(f,W){if(1&f&&(e.I0R(0,"span",19),e.yuY(1,De,2,0,"span",26)(2,be,2,0,"span",27),e.C$Y()),2&f){const s=e.GaO(2);e.yG2(),e.C0Y(1,s.indicator?1:-1),e.yG2(),e.C0Y(2,s.cleaner&&s.time&&!s.disabled?2:-1)}}function we(f,W){if(1&f){const s=e.KQA();e.I0R(0,"c-time-picker-roll-col",23),e.qCj("selectedChange",function(g){e.usT(s);const A=e.GaO(2);return e.CGJ(A.handleSelectSecondsChange(g))}),e.C$Y()}if(2&f){e.GaO();const s=e.Gew(6),u=e.GaO();e.E7m("elements",u.listOfSeconds)("selected",u.second)("disabled",u.disabled)("refresh",s.visible)}}function Fe(f,W){if(1&f){const s=e.KQA();e.I0R(0,"c-time-picker-roll-am-pm",23),e.qCj("selectedChange",function(g){e.usT(s);const A=e.GaO(2);return e.CGJ(A.handleSelectDayPeriodChange(g))}),e.C$Y()}if(2&f){e.GaO();const s=e.Gew(6),u=e.GaO();e.E7m("elements",u.dayPeriods)("selected",u.dayPeriod)("disabled",u.disabled)("refresh",s.visible)}}function Ee(f,W){1&f&&e.C_f(0)}const Ae=f=>({$implicit:f});function Ge(f,W){if(1&f&&(e.I0R(0,"div",32),e.yuY(1,Ee,1,0,"ng-container",33),e.C$Y()),2&f){e.GaO();const s=e.Gew(1),u=e.GaO();e.yG2(),e.E7m("ngTemplateOutlet",null==u.templates?null:u.templates.timePickerFooter)("ngTemplateOutletContext",e.S45(2,Ae,s))}}function Ve(f,W){if(1&f){const s=e.KQA();e.I0R(0,"c-dropdown",15,16)(2,"c-input-group",17)(3,"input",18),e.qCj("blur",function(g){e.usT(s);const A=e.GaO();return e.CGJ(A.handleBlur(g))})("change",function(g){e.usT(s);const A=e.GaO();return e.CGJ(A.handleTimeInputChange(g))})("focus",function(g){e.usT(s);const A=e.GaO();return e.CGJ(A.handleFocus(g))}),e.C$Y(),e.yuY(4,ye,3,2,"span",19),e.C$Y(),e.I0R(5,"div",20,21)(7,"div",22)(8,"c-time-picker-roll-col",23),e.qCj("selectedChange",function(g){e.usT(s);const A=e.GaO();return e.CGJ(A.handleSelectHoursChange(g))}),e.C$Y(),e.I0R(9,"c-time-picker-roll-col",23),e.qCj("selectedChange",function(g){e.usT(s);const A=e.GaO();return e.CGJ(A.handleSelectMinutesChange(g))}),e.C$Y(),e.yuY(10,we,1,4,"c-time-picker-roll-col",24)(11,Fe,1,4,"c-time-picker-roll-am-pm",24),e.C$Y(),e.yuY(12,Ge,2,4,"div",25),e.C$Y()()}if(2&f){const s=e.Gew(1),u=e.Gew(6),g=e.GaO();let A,oe,_e;e.E7m("autoClose","outside")("ngClass",g.timePickerClasses)("visible",g.visible),e.yG2(2),e.E7m("caret",!1)("disabled",null!==(A=g.disabled)&&void 0!==A?A:s.visible)("sizing",null!==(oe=g.size)&&void 0!==oe?oe:""),e.yG2(),e.E7m("formControl",g.timeInput)("placeholder",g.placeholder)("readonly",null!==(_e=g.inputReadOnly)&&void 0!==_e?_e:null)("valid",g.valid),e.e48("tabindex",g.disabled?-1:0)("disabled",g.disabled?"":null)("pattern",g.hour12?"(((0[1-9])|(1[0-2])):([0-5])([0-9])\\s(A|P)M)":"([01]?[0-9]|2[0-3]):[0-5][0-9]"),e.yG2(),e.C0Y(4,g.indicator||g.cleaner?4:-1),e.yG2(4),e.E7m("elements",g.listOfHours12)("selected",g.hour)("disabled",g.disabled)("refresh",u.visible),e.yG2(),e.E7m("elements",g.listOfMinutes)("selected",g.minute)("disabled",g.disabled)("refresh",u.visible),e.yG2(),e.C0Y(10,g.seconds?10:-1),e.yG2(),e.C0Y(11,g.hour12?11:-1),e.yG2(),e.C0Y(12,null!=g.templates&&g.templates.timePickerFooter?12:-1)}}let Be=(()=>{class f{#e;constructor(){this.#e=(0,e.uUt)(e.eM9),this._cleaner=!0,this.dateTimeFormatOptions={},this._disabled=!1,this._indicator=!0,this._inputReadOnly=!1,this.locale="default",this.placeholder="Select time",this._seconds=!1,this.variant="roll",this._visible=!1,this.timeChange=new e._w7(!1),this.templates={},this.hour12=U(this.locale),this.dayPeriods=[{value:"am",label:"am"},{value:"pm",label:"pm"}],this._timeInputValue=this.time?.toLocaleTimeString(this.locale,{timeStyle:this.seconds?"medium":"short"})??"",this.selectTime=new _.WC({selectHours:new _.Ku({value:this.hour,disabled:this.disabled},{validators:[_.AQ.min(0),_.AQ.max(this.hour12?11:23)]}),selectMinutes:new _.Ku({value:this.minute,disabled:this.disabled},{validators:[_.AQ.min(0),_.AQ.max(59)]}),selectSeconds:new _.Ku({value:this.second,disabled:this.disabled},{validators:[_.AQ.min(0),_.AQ.max(59)]}),selectDayPeriod:new _.Ku({value:this.dayPeriod,disabled:this.disabled},_.AQ.required)},{validators:[_.AQ.required]}),this.timeInput=new _.Ku({value:this.timeInputValue,disabled:this.disabled},{validators:[_.AQ.required]}),this._hour=-1,this._minute=-1,this._second=-1,this._dayPeriod="am",this.onChange=s=>{},this.onTouched=()=>{}}set cleaner(s){this._cleaner=(0,I.W6)(s)}get cleaner(){return this._cleaner}set disabled(s){this._disabled=(0,I.W6)(s)}get disabled(){return this._disabled}set indicator(s){this._indicator=(0,I.W6)(s)}get indicator(){return this._indicator}set inputReadOnly(s){this._inputReadOnly=(0,I.W6)(s)}get inputReadOnly(){return this._inputReadOnly}set seconds(s){this._seconds=(0,I.W6)(s)}get seconds(){return this._seconds}set time(s){if(s&&ce(s)){const u=H(s);if(!u)return void this.clearTime();this.dayPeriod=w(u),this._time?.getTime()!==u.getTime()&&(this._time=new Date(u.getTime()))}else this.clearTime()}get time(){return this._time}set visible(s){this._visible=(0,I.W6)(s)}get visible(){return this._visible}onBlur(){this.onTouched()}set timeInputValue(s){this.timeInput.setValue(s),this._timeInputValue=s}get timeInputValue(){return this._timeInputValue}get timePickerClasses(){return{"form-control":"select"===this.variant&&void 0!==this.valid,"is-valid":!0===this.valid,"is-invalid":!1===this.valid}}set hour(s){if(this._hour!==s){if(s<0)return void this.clearTime();this._hour=s}}get hour(){return this._hour}set minute(s){if(this._minute!==s){if(s<0)return void this.clearTime();this._minute=s}}get minute(){return this._minute}set second(s){if(this._second!==s){if(s<0)return void this.clearTime();this._second=s}}get second(){return this._second}set dayPeriod(s){this._dayPeriod=s,this.listOfHours12=this.hour12?this.listOfHours?.filter(u=>u.dayPeriod&&u.dayPeriod===s||!u.dayPeriod):this.listOfHours,this.patchSelectTimeValues()}get dayPeriod(){return this._dayPeriod}setTime(){this._hour=this._hour<0?0:this._hour,this._minute=this._minute<0?0:this._minute,this._second=this._second<0?0:this._second;const s=new Date(this._time?.getTime()||new Date);s.setHours(this.hour,this.minute,this.second,0),this.time=s,this.emitTime(s)}clearTime(){this.time&&(this._time=void 0,this.emitTime(void 0)),this._hour=-1,this._minute=-1,this._second=-1,this.dayPeriod="am",this.patchSelectTimeValues(),this.timeInputValue=""}emitTime(s){const u=s&&ce(s)?new Date(s.getTime()):void 0;this._timeInternal?.getTime()!==u?.getTime()&&(this.timeChange.emit(u),this.onChange(u),this.onTouched(),this._timeInternal=u),this.timeInputValue=this.time?.toLocaleTimeString(this.locale,{timeStyle:this.seconds?"medium":"short"})??""}ngOnInit(){this.setTimeLists(),this.updateSelectTime(),this.setChangeHandlers()}ngOnChanges(s){s.time&&(s.time.firstChange||this._timeInternal?.getTime()!==s.time.currentValue?.getTime()&&this.updateSelectTime())}ngAfterViewInit(){setTimeout(()=>{this.contentTemplates.forEach(s=>{this.templates[s.id]=s.templateRef})})}setTimeLists(){if(this.dayPeriods=ue(this.locale,this.dateTimeFormatOptions),this.hour12=U(this.locale),this.listOfHours=this.listOfTimeSegments(R,this.filterHours),this.listOfMinutes=this.listOfTimeSegments(B,this.filterMinutes),this.listOfSeconds=this.listOfTimeSegments(ie,this.filterSeconds),"select"===this.variant){const s={value:-1,label:" --",disabled:!0};this.listOfHours.unshift({...s}),this.listOfMinutes.unshift({...s}),this.listOfSeconds.unshift({...s})}this.listOfHours12=this.hour12?this.listOfHours.filter(s=>s.dayPeriod&&s.dayPeriod===this.dayPeriod||!s.dayPeriod):this.listOfHours}updateSelectTime(s=this.time){if(s&&ce(s)){const u=s.getHours()??0,g=s.getMinutes()??0,A=this.seconds?s.getSeconds()??0:0,oe=this.closestTime(this.listOfSeconds,A),_e=this.closestTime(this.listOfMinutes,g),Oe=this.closestTime(this.listOfHours,u);this.second=this.seconds?oe.value:0,this.minute=_e.value,this.hour=Oe.value,this.setTime(),this.patchSelectTimeValues()}}closestTime(s,u){let g=s??[{value:0,label:"00"}];return this.time&&(g=s.filter(A=>A.value>=0),g=g.length?g:s),g.reduce((A,oe)=>Math.abs(oe.value-u)<Math.abs(A.value-u)?oe:A)}listOfTimeSegments(s,u){const g=s(this.locale,this.dateTimeFormatOptions).filter(A=>"function"!=typeof u||u(A.value));return g.length?g:s(this.locale,this.dateTimeFormatOptions).slice(0,1)}handleSelectDayPeriodChange(s){if(s!==this.dayPeriod){const u=this.time?.getHours()??(this.hour<0?0:this.hour),g=u>12?(f=>f%12||12)(u):((f,W)=>"am"===f&&12===W?0:"am"===f?W:"pm"===f&&12===W?12:W+12)(s,u);this.hour=this.closestTime(this.listOfHours,g).value,g>=0&&this.setTime(),this.updateSelectTime()}}handleSelectHoursChange(s){this.hour=s,s>=0&&this.setTime(),this.updateSelectTime()}handleSelectMinutesChange(s){this.minute=s,s>=0&&this.setTime(),this.updateSelectTime()}handleSelectSecondsChange(s){this.second=s,s>=0&&this.setTime(),this.updateSelectTime()}patchSelectTimeValues(){const s=this.selectTime.get("selectDayPeriod")?.value;this.dayPeriod!==s&&this.selectTime.patchValue({selectDayPeriod:this.dayPeriod??"am"});const u=this.selectTime.get("selectHours")?.value,g=this.selectTime.get("selectMinutes")?.value,A=this.selectTime.get("selectSeconds")?.value;(this.second<0&&this.minute<0||this.hour>=0&&this.minute>=0&&this.second>=0)&&(this.hour!==u||this.minute!==g||this.second!==A)&&(this.hour!==u&&this.selectTime.patchValue({selectHours:this.hour??0}),this.minute!==g&&this.selectTime.patchValue({selectMinutes:this.minute??0}),this.second!==A&&this.selectTime.patchValue({selectSeconds:this.second??0}))}writeValue(s){this.time=s,this.updateSelectTime()}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s}handleTimeInputChange(s){const u=s.target?.value;if(!u||!ce(u))return void this.clearTime();const g=H(u);this.updateSelectTime(g??new Date(Date.now()))}handleClear(s){this.clearTime()}handleBlur(s){this.disabled||(this.dropdownRef?.nativeElement?.classList.remove("show"),setTimeout(()=>{this.onBlur()},100))}handleFocus(s){this.disabled||this.dropdownRef?.nativeElement?.classList.add("show")}setChangeHandlers(){"select"===this.variant&&(this.selectTime.get("selectHours")?.valueChanges.pipe((0,b.y)(s=>{this.handleSelectHoursChange(s)}),(0,v.ay)(this.#e)).subscribe(),this.selectTime.get("selectMinutes")?.valueChanges.pipe((0,b.y)(s=>{this.handleSelectMinutesChange(s)}),(0,v.ay)(this.#e)).subscribe(),this.selectTime.get("selectSeconds")?.valueChanges.pipe((0,C.I)(()=>this.seconds),(0,b.y)(s=>{this.handleSelectSecondsChange(s)}),(0,v.ay)(this.#e)).subscribe(),this.selectTime.get("selectDayPeriod")?.valueChanges.pipe((0,C.I)(()=>this.hour12),(0,b.y)(s=>{this.handleSelectDayPeriodChange(s)}),(0,v.ay)(this.#e)).subscribe())}static#t=this.\u0275fac=function(u){return new(u||f)};static#i=this.\u0275cmp=e.In1({type:f,selectors:[["c-time-picker"]],contentQueries:function(u,g,A){if(1&u&&e.szK(A,Q.i,5),2&u){let oe;e.wto(oe=e.Gqi())&&(g.contentTemplates=oe)}},viewQuery:function(u,g){if(1&u&&e.CC$(O.iq,5,e.GMv),2&u){let A;e.wto(A=e.Gqi())&&(g.dropdownRef=A.first)}},hostBindings:function(u,g){1&u&&e.qCj("blur",function(){return g.onBlur()})},inputs:{cleaner:"cleaner",dateTimeFormatOptions:"dateTimeFormatOptions",disabled:"disabled",filterHours:"filterHours",filterMinutes:"filterMinutes",filterSeconds:"filterSeconds",indicator:"indicator",inputReadOnly:"inputReadOnly",locale:"locale",placeholder:"placeholder",seconds:"seconds",size:"size",time:"time",variant:"variant",valid:"valid",visible:"visible"},outputs:{timeChange:"timeChange"},exportAs:["cTimePicker"],standalone:!0,features:[e.M5G([{provide:_.Y6,useExisting:(0,e.wd)(()=>f),multi:!0}]),e.SYr,e.UHJ],decls:2,vars:2,consts:[["class","date-picker-timepickers"],["class","time-picker picker",3,"autoClose","ngClass","visible"],[1,"date-picker-timepickers"],[1,"picker","time-picker"],[1,"time-picker-body",3,"formGroup","ngClass"],[1,"time-picker-inline-icon"],["cSelect","","formControlName","selectHours",1,"ms-0",3,"sizing","blur"],["cSelect","","formControlName","selectMinutes",1,"ms-0",3,"sizing","blur"],["cSelect","","class","ms-0","formControlName","selectSeconds",3,"sizing"],["cSelect","","class","ms-0","formControlName","selectDayPeriod",3,"sizing"],[3,"ngValue"],["cSelect","","formControlName","selectSeconds",1,"ms-0",3,"sizing","blur"],["cSelect","","formControlName","selectDayPeriod",1,"ms-0",3,"sizing","blur"],[1,"time-picker-roll-cell",3,"ngValue"],["class","time-picker-roll-cell",3,"ngValue"],[1,"time-picker","picker",3,"autoClose","ngClass","visible"],["dropdown","cDropdown"],["cDropdownToggle","",1,"picker-input-group",3,"caret","disabled","sizing"],["cFormControl","",3,"formControl","placeholder","readonly","valid","blur","change","focus"],["cInputGroupText",""],["cDropdownMenu",""],["dropdownMenu","cDropdownMenu"],[1,"time-picker-body","time-picker-roll",2,"position","relative"],["role","listbox",3,"elements","selected","disabled","refresh","selectedChange"],["role","listbox",3,"elements","selected","disabled","refresh"],["class","picker-footer"],["class","picker-input-group-indicator"],["class","picker-input-group-cleaner","role","button"],[1,"picker-input-group-indicator"],[1,"picker-input-group-icon","time-picker-input-icon"],["role","button",1,"picker-input-group-cleaner",3,"click"],[1,"picker-input-group-icon","time-picker-cleaner-icon"],[1,"picker-footer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,g){1&u&&e.yuY(0,pe,13,9,"div",0)(1,Ve,13,25,"c-dropdown",1),2&u&&(e.C0Y(0,"select"===g.variant?0:-1),e.yG2(),e.C0Y(1,"roll"===g.variant?1:-1))},dependencies:[m.QF,m.XV,_.sl,_.wd,_.GO,_.ot,_.GC,_.ue,_.u,_.ug,_.uW,_.Wo,O.iq,O.gT,E.S,P.u,j.S,N.W,de.E,M,X],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return f})()},1112:(te,V,l)=>{l.d(V,{s:()=>_});var e=l(4496);let _=(()=>{class m{static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275mod=e.a4G({type:m});static#i=this.\u0275inj=e.s3X({})}return m})()},800:(te,V,l)=>{l.d(V,{w:()=>U});var e=l(560),_=l(3252),m=l(7400),I=l(5428),v=l(8880),b=l(4187);const C=["addListener","removeListener"],x=["addEventListener","removeEventListener"],L=["on","off"];function U(k,G,y,R){if((0,v.m)(y)&&(R=y,y=void 0),R)return U(k,G,y).pipe((0,b.j)(R));const[B,ie]=function w(k){return(0,v.m)(k.addEventListener)&&(0,v.m)(k.removeEventListener)}(k)?x.map($=>se=>k[$](G,se,y)):function K(k){return(0,v.m)(k.addListener)&&(0,v.m)(k.removeListener)}(k)?C.map(ae(k,G)):function H(k){return(0,v.m)(k.on)&&(0,v.m)(k.off)}(k)?L.map(ae(k,G)):[];if(!B&&(0,I.G)(k))return(0,m.O)($=>U($,G,y))((0,e.Uv)(k));if(!B)throw new TypeError("Invalid event target");return new _._($=>{const se=(...he)=>$.next(1<he.length?he:he[0]);return B(se),()=>ie(se)})}function ae(k,G){return y=>R=>k[y](G,R)}},2520:(te,V,l)=>{l.d(V,{c:()=>b});var e=l(5448),_=l(7773),m=l(528),I=l(4548),v=l(560);function b(C=1/0){let x;x=C&&"object"==typeof C?C:{count:C};const{count:L=1/0,delay:U,resetOnSuccess:ae=!1}=x;return L<=0?m.Z:(0,e.i)((K,H)=>{let k,w=0;const G=()=>{let y=!1;k=K.subscribe((0,_.e)(H,R=>{ae&&(w=0),H.next(R)},void 0,R=>{if(w++<L){const B=()=>{k?(k.unsubscribe(),k=null,G()):y=!0};if(null!=U){const ie="number"==typeof U?(0,I.k)(U):(0,v.Uv)(U(R,w)),$=(0,_.e)(H,()=>{$.unsubscribe(),B()},()=>{H.complete()});ie.subscribe($)}else B()}else H.error(R)})),y&&(k.unsubscribe(),k=null,G())};G()})}},2368:(te,V,l)=>{l.d(V,{S:()=>_});const{isArray:e}=Array;function _(m){return 1===m.length&&e(m[0])?m[0]:m}},3412:(te,V,l)=>{l.d(V,{C_:()=>x,Yx:()=>K,cz:()=>C,e2:()=>H,ys:()=>U});var e=l(2376),_=l(1116),m=l(2700),I=l(5657),v=l(4496);class b{}function C(G){return G&&"function"==typeof G.connect&&!(G instanceof e.C)}class x extends b{constructor(y){super(),this._data=y}connect(){return(0,_.X)(this._data)?this._data:(0,m.of)(this._data)}disconnect(){}}var L=function(G){return G[G.REPLACED=0]="REPLACED",G[G.INSERTED=1]="INSERTED",G[G.MOVED=2]="MOVED",G[G.REMOVED=3]="REMOVED",G}(L||{});const U=new v.UbH("_ViewRepeater");class K{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(y,R,B,ie,$){y.forEachOperation((se,he,me)=>{let ce,ue;null==se.previousIndex?(ce=this._insertView(()=>B(se,he,me),me,R,ie(se)),ue=ce?L.INSERTED:L.REPLACED):null==me?(this._detachAndCacheView(he,R),ue=L.REMOVED):(ce=this._moveView(he,me,R,ie(se)),ue=L.MOVED),$&&$({context:ce?.context,operation:ue,record:se})})}detach(){for(const y of this._viewCache)y.destroy();this._viewCache=[]}_insertView(y,R,B,ie){const $=this._insertViewFromCache(R,B);if($)return void($.context.$implicit=ie);const se=y();return B.createEmbeddedView(se.templateRef,se.context,se.index)}_detachAndCacheView(y,R){const B=R.detach(y);this._maybeCacheView(B,R)}_moveView(y,R,B,ie){const $=B.get(y);return B.move($,R),$.context.$implicit=ie,$}_maybeCacheView(y,R){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(y);else{const B=R.indexOf(y);-1===B?y.destroy():R.remove(B)}}_insertViewFromCache(y,R){const B=this._viewCache.pop();return B&&R.insert(B,y),B||null}}class H{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(y=!1,R,B=!0,ie){this._multiple=y,this._emitChanges=B,this.compareWith=ie,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new I.E,R&&R.length&&(y?R.forEach($=>this._markSelected($)):this._markSelected(R[0]),this._selectedToEmit.length=0)}select(...y){this._verifyValueAssignment(y),y.forEach(B=>this._markSelected(B));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}deselect(...y){this._verifyValueAssignment(y),y.forEach(B=>this._unmarkSelected(B));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}setSelection(...y){this._verifyValueAssignment(y);const R=this.selected,B=new Set(y);y.forEach($=>this._markSelected($)),R.filter($=>!B.has(this._getConcreteValue($,B))).forEach($=>this._unmarkSelected($));const ie=this._hasQueuedChanges();return this._emitChangeEvent(),ie}toggle(y){return this.isSelected(y)?this.deselect(y):this.select(y)}clear(y=!0){this._unmarkAll();const R=this._hasQueuedChanges();return y&&this._emitChangeEvent(),R}isSelected(y){return this._selection.has(this._getConcreteValue(y))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(y){this._multiple&&this.selected&&this._selected.sort(y)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(y){y=this._getConcreteValue(y),this.isSelected(y)||(this._multiple||this._unmarkAll(),this.isSelected(y)||this._selection.add(y),this._emitChanges&&this._selectedToEmit.push(y))}_unmarkSelected(y){y=this._getConcreteValue(y),this.isSelected(y)&&(this._selection.delete(y),this._emitChanges&&this._deselectedToEmit.push(y))}_unmarkAll(){this.isEmpty()||this._selection.forEach(y=>this._unmarkSelected(y))}_verifyValueAssignment(y){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(y,R){if(this.compareWith){R=R??this._selection;for(let B of R)if(this.compareWith(y,B))return B;return y}return y}}}}]);